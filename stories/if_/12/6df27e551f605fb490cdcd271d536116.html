<!DOCTYPE html>
<html lang="en">
<head><script type="text/javascript" src="/static/js/analytics.js?v=1515532477.0" charset="utf-8"></script>

<script type="text/javascript">archive_analytics.values.service='wb';archive_analytics.values.server_name='wwwb-app43.us.archive.org';archive_analytics.values.server_ms=1261;</script><script type="text/javascript" src="/static/js/wbhack.js?v=1515532477.0" charset="utf-8"></script>

<script type="text/javascript">
__wbhack.init('http://web.archive.org/web');
</script>
<link rel="stylesheet" type="text/css" href="/static/css/banner-styles.css?v=1515532477.0" />
<link rel="stylesheet" type="text/css" href="/static/css/iconochive.css?v=1515532477.0" />

<!-- End Wayback Rewrite JS Include -->
    <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>

    <!-- METADATA -->
    <title>California neighborhood election results: Did your neighborhood vote to elect Hillary Clinton or Donald Trump? - Los Angeles Times</title>
    
        <meta charset="utf-8"/>
        <meta name="description" content="Check out these precinct-level maps of several California counties to see how similar – or different – other voters in your neighborhood are. This page will update as detailed county results come in, so keep checking back to see how your neighborhood voted."/>
        <meta name="keywords" content="data desk, los angeles times, latimes, l.a. times"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="apple-touch-icon" sizes="144x144" href="//web.archive.org/web/20161112004120im_/http://cookbook.latimes.com/img/apple-touch-icon.png">
        <link rel="icon" type="image/x-icon" href="//web.archive.org/web/20161112004120im_/http://cookbook.latimes.com/img/favicon-32x32.ico" sizes="32x32">
        <link rel="icon" type="image/x-icon" href="//web.archive.org/web/20161112004120im_/http://cookbook.latimes.com/img/favicon-16x16.ico" sizes="16x16">
        <link rel="publisher" href="//plus.google.com/u/0/112727226361732924638"/>
        <meta name="google-site-verification" content="a9pAUAoFTyj7Nut3H5OiQ-fUyyqdwdVT7VcFGICrpTo"/>
        
    
    <meta property="og:title" content="California neighborhood election results: Did your neighborhood vote to elect Hillary Clinton or Donald Trump?"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="http://web.archive.org/web/20161112004120/http://www.latimes.com/projects/la-pol-ca-california-neighborhood-election-results/"/>
    <meta property="og:image" content="http://web.archive.org/web/20161112004120im_/http://www.trbimg.com/img-5823cf57/turbine/la-pol-ca-california-neighborhood-election-results-20161109/600"/>
    <meta property="og:site_name" content="www.latimes.com"/>
    <meta property="og:description" content="Check out these precinct-level maps of several California counties to see how similar – or different – other voters in your neighborhood are. This page will update as detailed county results come in, so keep checking back to see how your neighborhood voted."/>
    <meta property="fb:admins" content="1257725335"/>
    <meta property="fb:app_id" content="171740782909828"/>
    <meta property="twitter:site" content="@latimes"/>
    <meta property="twitter:card" content="summary_large_image"/>
    <meta property="twitter:url" content="http://www.latimes.com/projects/la-pol-ca-california-neighborhood-election-results/"/>
    <meta property="twitter:title" content="California neighborhood election results: Did your neighborhood vote to elect Hillary Clinton or Donald Trump?"/>
    <meta property="twitter:description" content="Check out these precinct-level maps of several California counties to see how similar – or different – other voters in your neighborhood are. This page will update as detailed county results come in, so keep checking back to see how your neighborhood voted."/>
    <meta property="twitter:image" content="http://www.trbimg.com/img-5823cf57/turbine/la-pol-ca-california-neighborhood-election-results-20161109/600"/>
    <script type="application/ld+json">
    {
      "@context": "http://web.archive.org/web/20161112004120/http://schema.org/",
      "@type": "NewsArticle",
      "headline": "California neighborhood election results: Did your neighborhood vote to elect Hillary Clinton or Donald Trump?",
      "image": {
          "@type": "ImageObject",
          "contentUrl": "http://web.archive.org/web/20161112004120/http://www.trbimg.com/img-5823cf57/turbine/la-pol-ca-california-neighborhood-election-results-20161109/600",
          "url": "http://web.archive.org/web/20161112004120/http://www.trbimg.com/img-5823cf57/turbine/la-pol-ca-california-neighborhood-election-results-20161109/600",
          "representativeOfPage": true
      },
      "datePublished": "2016-11-10",
      "description": "Check out these precinct-level maps of several California counties to see how similar – or different – other voters in your neighborhood are. This page will update as detailed county results come in, so keep checking back to see how your neighborhood voted.",
      "publisher": {
          "@type": "Organization",
          "name": "Los Angeles Times",
          "url": "http://web.archive.org/web/20161112004120/http://www.latimes.com/",
          "location": {
              "@type": "Place",
              "name": "Los Angeles"
          },
          "logo": {
              "@type": "ImageObject",
              "contentUrl": "http://web.archive.org/web/20161112004120/http://cookbook.latimes.com/img/ngux-tophat/logos/lat_logo_730_black.png",
              "url": "http://web.archive.org/web/20161112004120/http://cookbook.latimes.com/img/ngux-tophat/logos/lat_logo_730_black.png"
          }
      },
      "author": {
          "@type": "Person",
          "name": "Jon Schleuss, Joe Fox and Priya Krishnakumar"
      }
    }
    </script>
    

    

    <!-- CSS -->
    
    <link rel="stylesheet" type="text/css" href="//web.archive.org/web/20161112004120cs_/http://cookbook.latimes.com/bootstrap/2.3.2/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="//web.archive.org/web/20161112004120cs_/http://cookbook.latimes.com/css/ngux-tophat-1.0.17.min.css"/>
    <link rel="stylesheet" type="text/css" href="//web.archive.org/web/20161112004120cs_/http://cookbook.latimes.com/bootstrap/2.3.2/css/bootstrap-responsive.min.css"/>
    <link rel="stylesheet" type="text/css" href="//web.archive.org/web/20161112004120cs_/http://cookbook.latimes.com/css/ngux-tophat-responsive-1.0.17.min.css"/>
    

    
    <link rel="stylesheet" href="http://web.archive.org/web/20161112004120cs_/http://cookbook.latimes.com/js/cartodb.js/v3/3.15/cartodb.min.css"/>
    <link rel="stylesheet" href="/web/20161112004120cs_/http://www.latimes.com/projects/la-pol-ca-california-neighborhood-election-results/static/select2.min.css"/>

    <style type="text/css">@font-face{font-family:'Benton Gothic Bold';src:url('http://web.archive.org/web/20161112004120im_/https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-bold.eot');src:url('http://web.archive.org/web/20161112004120im_/https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-bold.eot#iefix') format('embedded-opentype'),url('http://web.archive.org/web/20161112004120im_/https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-bold.woff') format('woff'),url('http://web.archive.org/web/20161112004120im_/https://s3.amazonaws.com/latimes-datadesk-template/fonts/0.5.0/benton-gothic-bold.ttf') format('truetype');font-weight:normal;font-style:normal}#intro{text-align:center;width:100%;max-width:740px;margin:10px auto}#intro img{width:50px;margin-top:20px;margin-bottom:10px}#intro h4{font-family:'Benton Gothic Bold',Arial,sans-serif;letter-spacing:2px;margin-bottom:10px}.center h2{font-family:'Benton Gothic Bold';text-align:center;margin:25px auto 5px auto}.sharebuttons{display:inline-block}.precinct-share{display:none;text-align:center}.precinct-share p{margin-bottom:0}.precinct-share .sharebuttons{margin:0}p.byline{margin-top:20px}form{margin:0 0 20px;display:inline-block}#map-legend{display:block;margin:10px auto 0px auto;margin-left:calc(50% - 277px);width:100%;max-width:700px}#top-container{padding-bottom:0px}p{font-family:'Benton Gothic Regular'}p.robotext{text-align:center;font-size:28px;line-height:1.4;width:100%;max-width:720px;margin:10px auto}.robotext{display:none}.robotext-result{font-family:'Benton Gothic Bold'}select#mainselect{}.locator_icon{font-size:22px}.select2-container{width:90%!important;max-width:640px!important;text-align:center;box-sizing:border-box;display:block;margin:0px auto;position:relative;vertical-align:middle}.select2-container:focus{outline:none!important}.select2-container--default .select2-selection--single{background-color:#fff;border:0px;border-radius:0px;border-bottom:1px solid #ccc}.select2-container .select2-selection--single{background-color:rgba(1,1,1,0);box-sizing:border-box;cursor:pointer;display:block;height:65px;user-select:none;-webkit-user-select:none;padding-top:10px}.select2-container--default .select2-selection--single .select2-selection__arrow b{display:none;border-width:6px 6px 0 6px;margin-top:8px}.select2-container--default .select2-selection--single .select2-selection__rendered{color:#444;line-height:49px}.selection{font-family:'Benton Gothic Regular';font-size:36px}#navigation span.selection{font-family:'Benton Gothic Regular';font-size:20px;text-align:left}#navigation .select2-container{width:90%!important;max-width:325px!important}#navigation .select2-container .select2-selection--single{height:45px;user-select:none}#navigation .select2-container--default .select2-selection--single .select2-selection__rendered{color:#999;line-height:30px}.select2-container--default .select2-results>.select2-results__options{font-family:'Benton Gothic Regular'}#big-select-wrapper{width:100%;max-width:750px;text-align:center;box-sizing:border-box;display:block;margin:0px auto;position:relative;vertical-align:middle;background-image:url(http://web.archive.org/web/20161112004120im_/http://ilivehere.latimes.com.s3.amazonaws.com/static/img/arrow.svg),none;background-repeat:no-repeat;background-size:25px 20px;background-position:95% center}#little-select-wrapper{width:90%;max-width:325px;text-align:center;box-sizing:border-box;display:block;margin:0px auto;position:relative;vertical-align:middle;background-image:url(http://web.archive.org/web/20161112004120im_/http://ilivehere.latimes.com.s3.amazonaws.com/static/img/arrow.svg),none;background-repeat:no-repeat;background-size:10px 10px;background-position:95% center}#address-wrapper{width:90%;max-width:325px;text-align:center;box-sizing:border-box;display:block;margin:0px auto;position:relative;vertical-align:middle}.geocodifyInput[type="text"]{width:100%;max-width:325px;font-size:20px;border:none;border-bottom:1px solid #ccc;color:#333;border-radius:0px;padding:8px 1px;margin:0px 5px;box-shadow:none;font-family:"Benton Gothic regular",Arial,sans}.geocodifyInput:focus{}.geocodifyDropdown{font-family:"Benton Gothic regular",Arial,sans;position:absolute;display:block;z-index:9003;width:100%;margin:0;padding:0;background-color:white;border-top-color:#D9D9D9;border:1px solid #ccc;-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,0.2);box-shadow:0 2px 4px rgba(0,0,0,0.2)}.geocodifyDropdown ul{margin:0;padding:0}.geocodifyDropdown li{display:block;padding:5px 0 5px 8px;cursor:pointer;margin:0;list-style-type:none;text-align:left;font:14px "Benton Gothic Regular",Arial,sans-serif}.geocodifyDropdown li:hover{background-color:#4591B8;color:#fff}select#countyselector{}section.page-updates{max-width:600px;margin:18px auto}section.page-updates strong{font-family:'Benton Gothic Bold',Arial,sans-serif}#navigation{text-align:center}#precinct-map{width:100%;height:450px;cursor:pointer}#map-note{text-align:center;margin:2px auto;padding:0 10px;max-width:900px;color:#555;font-size:12px;line-height:16px;font-style:italic}#last-updated-time{text-align:center;margin:2px auto;padding:0 10px;max-width:900px;color:#555;font-size:12px;line-height:16px;font-style:italic}#race-container{display:none}#addy_search{width:90%;max-width:325px}#addy_search-input:focus{outline:none;box-shadow:none;border-bottom:1px solid #4591B8}.precinct-results{display:flex;flex-wrap:wrap}.result-card{width:calc(33% - 50px);min-height:200px;display:inline-block;vertical-align:top;font-family:"Benton Gothic Regular";margin:10px auto 25px auto;background-color:#fff;padding:20px 0px 0px 0px;box-sizing:border-box;border-top:1px solid #dcdcdc}.featured-race{order:-2;flex-basis:70%;margin:auto;margin-top:20px;margin-bottom:20px;border:0px}.otherlabel{order:-1;flex-basis:95%;margin:auto;border:0px}.result-card h3,.otherlabel h2{font-family:"Benton Gothic Bold"}.otherlabel h2{margin-bottom:30px}.featured-race h3{text-align:center;font-size:36px;margin-bottom:20px}.race-description{font-size:14px;line-height:16px}.featured-race .race-description{margin-top:15px;text-align:center}.leader{font-family:"Benton Gothic Bold"}.results-container{width:86%}.candidate-result{position:relative;height:26px;margin-bottom:5px;margin-top:35px}.candidate-result:before{content:attr(data-name);text-transform:capitalize;position:absolute;bottom:100%;margin-bottom:4px;width:100px}#trump-result{background-color:#DC4E54}#clinton-result{background-color:#047BC0}#johnson-result{background-color:#D9A569}#lariva-result{background-color:#D9A569}#stein-result{background-color:#D9A569}#other-result{background-color:#D9A569}#harris-result{background-color:#B9BDA5}#sanchez-result{background-color:#7A969F}#yes-result{background-color:#5eaa81}#no-result{background-color:#fbdf9e}#other-total-result{background-color:#D9A569}.featured-race #other-total-result{display:none}.other-collapsed{display:none}.featured-race .expand-card{display:none}.expand-card{font-family:"Benton Gothic Regular";text-align:center;width:116%;padding:4px;cursor:pointer}.candidate-result:after{content:attr(data-percent)"%";position:relative;left:100%;margin-left:4px;top:3px;background-color:#fff}.featured-race #trump-result .featured-percent{color:#DC4E54}.featured-race #clinton-result .featured-percent{color:#047BC0}.featured-race #johnson-result .featured-percent{color:#D9A569}.featured-race #lariva-result .featured-percent{color:#D9A569}.featured-race #stein-result .featured-percent{color:#D9A569}.featured-race #other-result .featured-percent{color:#D9A569}.featured-race #harris-result .featured-percent{color:#B9BDA5}.featured-race #sanchez-result .featured-percent{color:#7A969F}.featured-race #yes-result .featured-percent{color:#5eaa81}.featured-race #no-result .featured-percent{color:#f9cf6c}.featured-race{text-align:center}.featured-race .results-container{width:100%}.featured-race .candidate-result{width:22%!important;display:inline-block;margin-left:10px;height:123px;border:1px solid #ddd;border-radius:3px;padding:0px 20px 20px 20px;margin-top:5px;text-align:center;background-color:#fff!important}.featured-percent{font-size:65px}.leader .featured-percent,.leader .featured-name{font-family:'Benton Gothic Bold'}.featured-name{margin:10px 0px 20px 0px;font-size:20px;text-transform:capitalize}.featured-votes{font-size:16px;margin-left:10px 0}.featured-race .candidate-result:before{display:none}.featured-race .candidate-result:after{display:none}.percent{font-size:40px}@media(max-width:1200px){.result-card{width:calc(49% - 40px)}}@media (max-width:979px){.container{padding:0 20px 60px 10px}.featured-race .candidate-result{width:36%!important}#map-legend{margin-left:0}.featured-percent{font-size:55px}}@media(max-width:767px){.result-card{width:calc(100% - 40px)}.selection{font-size:25px}.select2-container .select2-selection--single{display:block;height:36px;padding-top:0px}p.robotext{font-size:24px}.select2-container--default .select2-selection--single .select2-selection__rendered{line-height:34px}select#countyselector{background-size:13px}.featured-race{order:-1;flex-basis:inherit}}@media(max-width:600px){p.robotext{font-size:19px}.featured-race h3{text-align:center;font-size:30px}.featured-percent{font-size:36px;margin:-10px 0}.percent{font-size:25px}{background-size:11px}.featured-race .candidate-result{height:110px;margin-bottom:5px}#big-select-wrapper{background-size:15px 20px}}@media(max-width:550px){#precinct-map{height:100vw}#addy_search-btn{margin-top:-14px;margin-bottom:15px}}@media(max-width:500px){.selection{font-size:20px}.featured-percent{font-size:32px}.featured-name{font-size:18px}.featured-race .candidate-result{width:39%!important;padding:0px 10px 10px 10px;height:125px}}</style>


    <!-- JAVASCRIPT -->
    
    
    <!--[if lt IE 9]>
          <script type="text/javascript" src="//cookbook.latimes.com/js/html5shiv.js"></script>
     <![endif]-->
    
    <script type="text/javascript" src="//web.archive.org/web/20161112004120js_/http://cookbook.latimes.com/js/jquery-1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="//web.archive.org/web/20161112004120js_/http://cookbook.latimes.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <script src="//web.archive.org/web/20161112004120js_/http://cookbook.latimes.com/js/underscore-1.8.3-min.js" type="text/javascript"></script>
    <script type="text/javascript" src="//web.archive.org/web/20161112004120js_/http://cdn.gigya.com/js/socialize.js?apiKey=2_COh26GgfZDptreu0iQ9aknzT_Ig861qYxOHZVxizrZMTn81vygTB-ptN33wgCtrj"></script>
    <script type="text/javascript" src="//web.archive.org/web/20161112004120js_/http://cookbook.latimes.com/js/ngux-tophat-1.0.17.min.js"></script>
    <!--[if lte IE 7]><script type="text/javascript" src="//cookbook.latimes.com/js/icons-ie7.js"></script><![endif]-->
    <script type="text/javascript" src="//web.archive.org/web/20161112004120js_/http://cookbook.latimes.com/js/ngux-ads-2.4.1.min.js"></script>
    

    
<script src="/web/20161112004120js_/http://www.latimes.com/projects/la-pol-ca-california-neighborhood-election-results/static/select2.full.min.js"></script>
    <script src="http://web.archive.org/web/20161112004120js_/http://cookbook.latimes.com/js/cartodb.js/v3/3.15/cartodb.js"></script>

    <script type="text/javascript" src="http://web.archive.org/web/20161112004120js_/http://maps.googleapis.com/maps/api/js?key=AIzaSyDsAlNk8gS0mLb_k-A1P6oWe9quLLjmC2E"></script>


    
    
</head>
<body data-ad-path="4011/trb.latimes/news/datadesk" data-ad-ptype="s" data-ad-iframe-url="/projects/static/ngux-tophat-ad-iframe.html">
    <!-- NAV -->
    
    
    
    <nav title="Navigation">
        <div id="tophat-container">
    <div id="tophat">
        
            <span id="tophat-dropdown">
                <hr/>
                <hr/>
                <hr/>
            </span>
            
                <a id="tophat-logo" href="//web.archive.org/web/20161112004120/http://www.latimes.com/"></a>
            
            
                <div class="tophat-links">
                    <ul>
    <li>
        <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/local">Local</a>
    </li>
    <li>
        <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/california">California</a>
    </li>
    <li>
        <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/sports">Sports</a>
    </li>
    <li>
        <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/entertainment">Entertainment</a>
    </li>
    <li>
        <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/nation">Nation</a>
    </li>
    <li>
        <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/world">World</a>
    </li>
    <li>
        <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/business">Business</a>
    </li>
    <li>
        <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/opinion">Opinion</a>
    </li>
    <li>
        <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/style">Lifestyle</a>
    </li>
    <li>
        <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/travel">Travel</a>
    </li>
</ul>

                </div>
            
        
    </div>
</div>

    </nav>
    


    
<article class="container" id="top-container">
    <header class="center">

        <div id="intro">
            <div class="sharebuttons clearfix">
                <i class="LATFacebook" data-socialshare-type="facebook"></i>
                <i class="LATTwitter" data-socialshare-type="twitter"></i>
                <i class="LATEmail" data-socialshare-type="email"></i>
            </div>
        </div>
        <h1>Did your neighborhood vote to</h1>
        <!-- <h2>Did your neighborhood vote to...</h2> -->
        <div id="big-select-wrapper">
        <select id="mainselect">
            <option value="pres-trump" id="pres-trump-option">elect Donald Trump?</option>
            <option value="pres-clinton" id="pres-clinton-option">elect Hillary Clinton?</option>
            <option value="prop64-yes" id="prop64-yes-option">legalize weed?</option>
            <option value="prop62-yes" id="prop62-yes-option">repeal the death penalty?</option>
            <option value="prop55-yes" id="prop55-yes-option">tax the wealthy?</option>
            <option value="prop56-yes" id="prop56-yes-option">hike cigarette prices?</option>
            <option value="prop57-yes" id="prop57-yes-option">parole nonviolent felons?</option>
            <option value="prop58-yes" id="prop58-yes-option">repeal the bilingual education ban?</option>
            <option value="prop61-yes" id="prop61-yes-option">limit prescription drug prices?</option>
            <option value="prop63-yes" id="prop63-yes-option">impose gun controls?</option>
            <option value="prop67-no" id="prop67-no-option">overturn plastic bag bans?</option>
        </select>
        </div>
        <p class="byline">
            By <span class="author"><span class="author"><a href="http://web.archive.org/web/20161112004120/http://www.latimes.com/la-bio-jon-schleuss-staff.html">Jon Schleuss</a></span>, <span class="author"><a href="http://web.archive.org/web/20161112004120/http://www.latimes.com/la-bio-joe-fox-staff.html">Joe Fox</a></span> and <span class="author"><a href="http://web.archive.org/web/20161112004120/http://www.latimes.com/la-bio-priya-krishnakumar-staff.html">Priya Krishnakumar</a></span></span>
        </p>
        <p class="dateline">
            <time datetime="2016-11-10" pubdate>
                Nov. 10, 2016
            </time>
        </p>
        <p id="last-updated-time" class="credits">Last updated:
            <time datetime="2016-11-11" pubdate>
                Nov. 11, 2016, 11:05 a.m.
            </time>
        </p>
        <p class="description" style="width: 100%; max-width: 650px; margin: 20px auto;">Check out these precinct-level maps of several California counties to see how similar – or different – other voters in your neighborhood are. This page will update as detailed county results come in, so keep checking back to see how your neighborhood voted.</p>


    </header>
    <section name="graphic" class="graphic">
        <div id="navigation">
        <div id="address-wrapper">
            <form id="addy_search">
                <input type="text" id="addy_search-input" class="geocodifyInput" autocomplete="off" placeholder="Search an address">
                <div id="addy_search-dropdown" class="geocodifyDropdown hidden"></div>
            </form>
            <!-- <button class="btn" id="addy_search-btn">Search</button> -->
        </div>
        <div id="little-select-wrapper">
            <select id="countyselector">
                <option>Or select a county</option>
                <option value="001">Alameda</option>
                <option value="003">Alpine</option>
                <option value="005">Amador</option>
                <option value="007">Butte</option>
                <option value="009">Calaveras</option>
                <option value="011">Colusa</option>
                <option value="013">Contra Costa</option>
                <option value="015">Del Norte</option>
                <option value="017">El Dorado</option>
                <option value="019">Fresno</option>
                <option value="021">Glenn</option>
                <option value="023">Humboldt</option>
                <option value="025">Imperial</option>
                <option value="027">Inyo</option>
                <option value="029">Kern</option>
                <option value="031">Kings</option>
                <option value="033">Lake</option>
                <option value="035">Lassen</option>
                <option value="037">Los Angeles</option>
                <option value="039">Madera</option>
                <option value="041">Marin</option>
                <option value="043">Mariposa</option>
                <option value="045">Mendocino</option>
                <option value="047">Merced</option>
                <option value="049">Modoc</option>
                <option value="051">Mono</option>
                <option value="053">Monterey</option>
                <option value="055">Napa</option>
                <option value="057">Nevada</option>
                <option value="059">Orange</option>
                <option value="061">Placer</option>
                <option value="063">Plumas</option>
                <option value="065">Riverside</option>
                <option value="067">Sacramento</option>
                <option value="069">San Benito</option>
                <option value="071">San Bernardino</option>
                <option value="073">San Diego</option>
                <option value="075">San Francisco</option>
                <option value="077">San Joaquin</option>
                <option value="079">San Luis Obispo</option>
                <option value="081">San Mateo</option>
                <option value="083">Santa Barbara</option>
                <option value="085">Santa Clara</option>
                <option value="087">Santa Cruz</option>
                <option value="089">Shasta</option>
                <option value="091">Sierra</option>
                <option value="093">Siskiyou</option>
                <option value="095">Solano</option>
                <option value="097">Sonoma</option>
                <option value="099">Stanislaus</option>
                <option value="101">Sutter</option>
                <option value="103">Tehama</option>
                <option value="105">Trinity</option>
                <option value="107">Tulare</option>
                <option value="109">Tuolumne</option>
                <option value="111">Ventura</option>
                <option value="113">Yolo</option>
                <option value="115">Yuba</option>
            </select>
        </div>
    </div>

    <img src="/web/20161112004120im_/http://www.latimes.com/projects/la-pol-ca-california-neighborhood-election-results/static/president-legend.png" id="map-legend">

    </section>
</article>
    <div id="precinct-map"></div>
<article class="container">
    <p class="robotext"></p>
    <div class="precinct-share"><p>Share how your neighborhood voted: </p><span class="sharebuttons"><i class="LATFacebook hoodshare" data-description="Check out these precinct-level maps of several California counties to see how similar – or different – other voters in your neighborhood are. This page will update as detailed county results come in, so keep checking back to see how your neighborhood voted." data-dialog-type="feed" data-socialshare-type="facebook"></i><i class="LATTwitter hoodshare" data-dialog-type="feed" data-socialshare-type="twitter"></i><i class="LATEmail hoodshare" data-dialog-type="feed" data-socialshare-type="email"></i></span></div>
    <p id="map-note">Note: Results are preliminary and do not reflect any uncounted votes.</p>
    <div class="precinct-results" id="race-container">
        
            <div class="result-card">
                <h3>President</h3>
                
                <div class="results-container" id="pres-results"></div>
            </div>
        
            <div class="result-card">
                <h3>U.S. Senator</h3>
                
                <div class="results-container" id="ussenate-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 51</h3>
                <p class="race-description">Borrows $9 billion in school bonds</p>
                <div class="results-container" id="prop51-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 52</h3>
                <p class="race-description">Restricts diverting funds away from Medi-Cal</p>
                <div class="results-container" id="prop52-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 53</h3>
                <p class="race-description">Forces statewide vote on government bonds bigger than $2 billion</p>
                <div class="results-container" id="prop53-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 54</h3>
                <p class="race-description">Requires legislation to be published online before final vote</p>
                <div class="results-container" id="prop54-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 55</h3>
                <p class="race-description">Extends income tax rates for wealthy</p>
                <div class="results-container" id="prop55-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 56</h3>
                <p class="race-description">Raises tobacco tax by $2 a pack</p>
                <div class="results-container" id="prop56-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 57</h3>
                <p class="race-description">Makes new parole rules for nonviolent felons</p>
                <div class="results-container" id="prop57-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 58</h3>
                <p class="race-description">Repeals bilingual education ban</p>
                <div class="results-container" id="prop58-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 59</h3>
                <p class="race-description">Instructs California officials to work for Citizens United repeal</p>
                <div class="results-container" id="prop59-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 60</h3>
                <p class="race-description">Requires condoms for porn actors</p>
                <div class="results-container" id="prop60-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 61</h3>
                <p class="race-description">Puts price limits on prescription drugs for state agencies</p>
                <div class="results-container" id="prop61-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 62</h3>
                <p class="race-description">Repeals the death penalty</p>
                <div class="results-container" id="prop62-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 63</h3>
                <p class="race-description">Institutes a number of gun controls</p>
                <div class="results-container" id="prop63-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 64</h3>
                <p class="race-description">Legalizes recreational marijuana</p>
                <div class="results-container" id="prop64-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 65</h3>
                <p class="race-description">Redirects plastic bag fees to environmental programs</p>
                <div class="results-container" id="prop65-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 66</h3>
                <p class="race-description">Speeds up death penalty process</p>
                <div class="results-container" id="prop66-results"></div>
            </div>
        
            <div class="result-card">
                <h3>Proposition 67</h3>
                <p class="race-description">Ratifies or overturns single-use plastic bag ban</p>
                <div class="results-container" id="prop67-results"></div>
            </div>
        
    </div>
    </section>
    <section class="page-updates">
        <p><strong>Nov. 10, 10:20 a.m.:</strong> The map was updated with precinct-level results for San Bernardino County.</p>
        <p><strong>Nov. 10, 12:04 p.m.:</strong> The map was updated with precinct-level results for Orange County.</p>
        <p><strong>Nov. 10, 2:55 p.m.:</strong> The map was updated with precinct-level results for San Diego County.</p>
        <p><strong>Nov. 11, 11:04 a.m.:</strong> The map was updated with precinct-level results for Sierra and San Mateo counties.</p>

    </section>

    <section name="credits">
        
            <p class="sources">Sources: Associated Press, Times reporting, California secretary of state and election offices in Los Angeles, Sacramento, San Francisco, Santa Clara and San Bernardino counties</p>
        
        
            <p class="credits">Additional credits: Armand Emamdjomeh, Lorena Iñiguez Elebee, Thomas Suh Lauder, Raoul Rañoa, Eben McCue, Paul Duginski, Kyle Kim, Angelica Quintero, Len De Groot, Ben Welsh, Ryan Menezes</p>
        
    </section>
    <aside class="mlt">
    <h2>More from the Los Angeles Times</a></h2>
    <ul>
        
        <li>
            <figure>
                <a href="http://web.archive.org/web/20161112004120/http://graphics.latimes.com/la-na-pol-2016-election-results-national/">
                    <img src="http://web.archive.org/web/20161112004120im_/http://www.trbimg.com/img-5820b9e5/turbine/la-large-share-image-live-election-results/400/400x300">
                </a>
            </figure>
            <a href="http://web.archive.org/web/20161112004120/http://graphics.latimes.com/la-na-pol-2016-election-results-national/">
                <span>U.S. election results</span>
            </a>
        </li>
        
        <li>
            <figure>
                <a href="http://web.archive.org/web/20161112004120/http://www.latimes.com/projects/la-pol-ca-california-voting-history/la-na-pol-2016-election-results-california/">
                    <img src="http://web.archive.org/web/20161112004120im_/http://www.trbimg.com/img-5823aefc/turbine/la-pol-ca-g-california-voting-history-20161028/400/400x300">
                </a>
            </figure>
            <a href="http://web.archive.org/web/20161112004120/http://www.latimes.com/projects/la-pol-ca-california-voting-history/la-na-pol-2016-election-results-california/">
                <span>After decades of Republican victories, here’s how California became a blue state again</span>
            </a>
        </li>
        
        <li>
            <figure>
                <a href="http://web.archive.org/web/20161112004120/http://www.latimes.com/nation/politics/trailguide/la-na-election-day-2016-updates-htmlstory.html">
                    <img src="http://web.archive.org/web/20161112004120im_/http://www.trbimg.com/img-5821d548/turbine/la-na-election-day-2016-updates/400/400x300">
                </a>
            </figure>
            <a href="http://web.archive.org/web/20161112004120/http://www.latimes.com/nation/politics/trailguide/la-na-election-day-2016-updates-htmlstory.html">
                <span>Election 2016 live updates</span>
            </a>
        </li>
        
        <li>
            <figure>
                <a href="http://web.archive.org/web/20161112004120/http://www.latimes.com/projects/la-pol-ca-prop-64-last-time-california-tried-to-legalize-weed/">
                    <img src="http://web.archive.org/web/20161112004120im_/http://www.trbimg.com/img-581cef0a/turbine/la-me-pol-prop19-promo-20161103/400/400x300">
                </a>
            </figure>
            <a href="http://web.archive.org/web/20161112004120/http://www.latimes.com/projects/la-pol-ca-prop-64-last-time-california-tried-to-legalize-weed/">
                <span>The last time California tried to legalize weed it failed. What happened?</span>
            </a>
        </li>
        
    </ul>
</aside>



    <!-- COMMENTS HERE -->
    <section class="row">
        <div class="span8">
            <section class="viafoura">
                <div class="vf-comments vf-widget" data-widget="comments"></div>
            </section>
        </div>

        <aside class="span4">
            <aside title="Advertisement" class="cube-ad">
    <div class="tophat-cube" id="div-gpt-ad-240326138443017849-1">
        <div class="advert" data-ad-type="cube"></div>
        <span class="tophat-ad-label">ADVERTISEMENT</span>
    </div>
</aside>

        </aside>
    </section>
    <!-- END COMMENTS AND AD -->

</article>



    

        <!-- Google Analytics code -->
        <script type="text/javascript">
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','//web.archive.org/web/20161112004120/http://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-65208330-4', 'latimes.com');
              ga('send', 'pageview');
        </script>

        
        <script type="text/javascript">
            ((((window.trb || (window.trb = {})).data || (trb.data = {})).metrics || (trb.data.metrics = {})).thirdparty = {
                // Page naming convention:
                //  <site-slug>:<app-slug>:<path>:<datadesk-slug>-<page-slug>:<content-type>.
                // Example:
                //  lat:projects.latimes.com:local:data-pat-tillman:individualarticle.
                //  (Don't miss the period at the end.)
                pageName: 'lat:politics:la-pol-ca-california-neighborhood-election-results:individualarticle.',
                channel: 'politics', // Path
                server: 'www.latimes.com', // Full domain
                hier1: 'latimes:politics', // Path (with latimes prefix)
                hier2: 'politics', // Path (again)
                prop1: 'D=pageName',
                prop2: 'politics', // Path (again!)
                prop38: 'individualarticle', // Content type
                eVar1: window.location.href, // This URL
                eVar2: document.referrer, // The referring URL
                prop57: 'D=c38',
                eVar20: 'latimes',
                eVar21: 'D=c38',
                eVar34: 'D=ch',
                eVar35: 'D=pageName',
                events: ''
            });
        </script>
        <script src="//web.archive.org/web/20161112004120js_/http://www.latimes.com/thirdpartyservice?disablenav=true"></script>
        

    

    
    
    <footer title="Footer">
        <nav id="footer-container">
    <div id="footer">
        
            
                <div id="tos">
                    <a href="//web.archive.org/web/20161112004120/http://www.tronc.com/central-terms-of-service/">Terms of Service</a> |
                    <a href="//web.archive.org/web/20161112004120/http://www.tronc.com/privacy-policy/">Privacy<span class="hidden-phone"> Policy</span></a> |
                    <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/lat-about-our-ads,0,3875412.htmlstory"><span class="hidden-phone">About Our </span>Ads</a> |
                    <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/services/site/la-reprint-request-splash,0,6731163.htmlstory">&copy; <script type="text/javascript">document.write(new Date().getFullYear())</script></a> |
                    <a href="//web.archive.org/web/20161112004120/http://www.latimes.com/about/"><span class="hidden-phone">About This Site</span></a>
                </div>
            
        
    </div>
</nav>

    </footer>
    
    <script type="text/javascript" src="//web.archive.org/web/20161112004120js_/http://ssor.tribdss.com/reg/tribune/lanews-static.min.js" defer async></script>
    
    <script type="text/javascript" src="//web.archive.org/web/20161112004120js_/http://www.tribdss.com/meter/latngux.min.js" defer async></script>
    
    <script type="text/javascript">(window.registration || (registration = [])).push('viafoura');</script>


    
<script type="text/javascript">(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.BingGeocoder=f()}})(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(process){'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();Object.defineProperty(exports,"__esModule",{value:true});exports.BingGeocoder=undefined;var _https=require('https');var _https2=_interopRequireDefault(_https);var _querystring=require('querystring');var _querystring2=_interopRequireDefault(_querystring);var _url=require('url');var _url2=_interopRequireDefault(_url);var _jsonp=require('jsonp');var _jsonp2=_interopRequireDefault(_jsonp);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var BING_GEOCODER_API_URL='http://web.archive.org/web/20161112004120/https://dev.virtualearth.net/REST/v1/Locations';var BingGeocoder=exports.BingGeocoder=function(){function BingGeocoder(){var bingApiKey=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];var endpointUrl=arguments.length<=1||arguments[1]===undefined?BING_GEOCODER_API_URL:arguments[1];var options=arguments[2];_classCallCheck(this,BingGeocoder);this.options=_extends({disableJsonp:false},options);this.endpointUrl=endpointUrl;this.bingApiKey=bingApiKey;}
_createClass(BingGeocoder,[{key:'geocode',value:function geocode(address,callback){var params=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];var queryParams={q:address};if(this.bingApiKey){queryParams.key=this.bingApiKey;}
_extends(queryParams,params);var endpointUrl=this.endpointUrl+'?'+_querystring2.default.stringify(queryParams);if(process.browser&&!this.options.disableJsonp){this._requestJsonp(endpointUrl,callback);}else{this._request(endpointUrl,callback);}}},{key:'_request',value:function _request(endpointUrl,callback){var requestOpts=_url2.default.parse(endpointUrl);requestOpts.withCredentials=false;_https2.default.get(requestOpts,function(res){var data='';res.on('data',function(chunk){data+=chunk;});res.on("end",function(){var resultData=JSON.parse(data);return callback(null,resultData);});}).on('error',function(e){callback(e);});}},{key:'_requestJsonp',value:function _requestJsonp(endpointUrl,callback){(0,_jsonp2.default)(endpointUrl,{param:'jsonp'},callback);}}]);return BingGeocoder;}();}).call(this,require('_process'))},{"_process":19,"https":9,"jsonp":14,"querystring":23,"url":41}],2:[function(require,module,exports){;(function(exports){'use strict'
var lookup='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
var Arr=(typeof Uint8Array!=='undefined')?Uint8Array:Array
var PLUS='+'.charCodeAt(0)
var SLASH='/'.charCodeAt(0)
var NUMBER='0'.charCodeAt(0)
var LOWER='a'.charCodeAt(0)
var UPPER='A'.charCodeAt(0)
var PLUS_URL_SAFE='-'.charCodeAt(0)
var SLASH_URL_SAFE='_'.charCodeAt(0)
function decode(elt){var code=elt.charCodeAt(0)
if(code===PLUS||code===PLUS_URL_SAFE)return 62
if(code===SLASH||code===SLASH_URL_SAFE)return 63
if(code<NUMBER)return-1
if(code<NUMBER+10)return code-NUMBER+26+26
if(code<UPPER+26)return code-UPPER
if(code<LOWER+26)return code-LOWER+26}
function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr
if(b64.length%4>0){throw new Error('Invalid string. Length must be a multiple of 4')}
var len=b64.length
placeHolders=b64.charAt(len-2)==='='?2:b64.charAt(len-1)==='='?1:0
arr=new Arr(b64.length*3/4-placeHolders)
l=placeHolders>0?b64.length-4:b64.length
var L=0
function push(v){arr[L++]=v}
for(i=0,j=0;i<l;i+=4,j+=3){tmp=(decode(b64.charAt(i))<<18)|(decode(b64.charAt(i+1))<<12)|(decode(b64.charAt(i+2))<<6)|decode(b64.charAt(i+3))
push((tmp&0xFF0000)>>16)
push((tmp&0xFF00)>>8)
push(tmp&0xFF)}
if(placeHolders===2){tmp=(decode(b64.charAt(i))<<2)|(decode(b64.charAt(i+1))>>4)
push(tmp&0xFF)}else if(placeHolders===1){tmp=(decode(b64.charAt(i))<<10)|(decode(b64.charAt(i+1))<<4)|(decode(b64.charAt(i+2))>>2)
push((tmp>>8)&0xFF)
push(tmp&0xFF)}
return arr}
function uint8ToBase64(uint8){var i
var extraBytes=uint8.length%3
var output=''
var temp,length
function encode(num){return lookup.charAt(num)}
function tripletToBase64(num){return encode(num>>18&0x3F)+encode(num>>12&0x3F)+encode(num>>6&0x3F)+encode(num&0x3F)}
for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+(uint8[i+2])
output+=tripletToBase64(temp)}
switch(extraBytes){case 1:temp=uint8[uint8.length-1]
output+=encode(temp>>2)
output+=encode((temp<<4)&0x3F)
output+='=='
break
case 2:temp=(uint8[uint8.length-2]<<8)+(uint8[uint8.length-1])
output+=encode(temp>>10)
output+=encode((temp>>4)&0x3F)
output+=encode((temp<<2)&0x3F)
output+='='
break
default:break}
return output}
exports.toByteArray=b64ToByteArray
exports.fromByteArray=uint8ToBase64}(typeof exports==='undefined'?(this.base64js={}):exports))},{}],3:[function(require,module,exports){},{}],4:[function(require,module,exports){(function(global){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */'use strict'
var base64=require('base64-js')
var ieee754=require('ieee754')
var isArray=require('isarray')
exports.Buffer=Buffer
exports.SlowBuffer=SlowBuffer
exports.INSPECT_MAX_BYTES=50
Buffer.poolSize=8192
var rootParent={}
Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport()
function typedArraySupport(){try{var arr=new Uint8Array(1)
arr.foo=function(){return 42}
return arr.foo()===42&&typeof arr.subarray==='function'&&arr.subarray(1,1).byteLength===0}catch(e){return false}}
function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?0x7fffffff:0x3fffffff}
function Buffer(arg){if(!(this instanceof Buffer)){if(arguments.length>1)return new Buffer(arg,arguments[1])
return new Buffer(arg)}
if(!Buffer.TYPED_ARRAY_SUPPORT){this.length=0
this.parent=undefined}
if(typeof arg==='number'){return fromNumber(this,arg)}
if(typeof arg==='string'){return fromString(this,arg,arguments.length>1?arguments[1]:'utf8')}
return fromObject(this,arg)}
Buffer._augment=function(arr){arr.__proto__=Buffer.prototype
return arr}
function fromNumber(that,length){that=allocate(that,length<0?0:checked(length)|0)
if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<length;i++){that[i]=0}}
return that}
function fromString(that,string,encoding){if(typeof encoding!=='string'||encoding==='')encoding='utf8'
var length=byteLength(string,encoding)|0
that=allocate(that,length)
that.write(string,encoding)
return that}
function fromObject(that,object){if(Buffer.isBuffer(object))return fromBuffer(that,object)
if(isArray(object))return fromArray(that,object)
if(object==null){throw new TypeError('must start with number, buffer, array or string')}
if(typeof ArrayBuffer!=='undefined'){if(object.buffer instanceof ArrayBuffer){return fromTypedArray(that,object)}
if(object instanceof ArrayBuffer){return fromArrayBuffer(that,object)}}
if(object.length)return fromArrayLike(that,object)
return fromJsonObject(that,object)}
function fromBuffer(that,buffer){var length=checked(buffer.length)|0
that=allocate(that,length)
buffer.copy(that,0,0,length)
return that}
function fromArray(that,array){var length=checked(array.length)|0
that=allocate(that,length)
for(var i=0;i<length;i+=1){that[i]=array[i]&255}
return that}
function fromTypedArray(that,array){var length=checked(array.length)|0
that=allocate(that,length)
for(var i=0;i<length;i+=1){that[i]=array[i]&255}
return that}
function fromArrayBuffer(that,array){array.byteLength
if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(array)
that.__proto__=Buffer.prototype}else{that=fromTypedArray(that,new Uint8Array(array))}
return that}
function fromArrayLike(that,array){var length=checked(array.length)|0
that=allocate(that,length)
for(var i=0;i<length;i+=1){that[i]=array[i]&255}
return that}
function fromJsonObject(that,object){var array
var length=0
if(object.type==='Buffer'&&isArray(object.data)){array=object.data
length=checked(array.length)|0}
that=allocate(that,length)
for(var i=0;i<length;i+=1){that[i]=array[i]&255}
return that}
if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype
Buffer.__proto__=Uint8Array}else{Buffer.prototype.length=undefined
Buffer.prototype.parent=undefined}
function allocate(that,length){if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length)
that.__proto__=Buffer.prototype}else{that.length=length}
var fromPool=length!==0&&length<=Buffer.poolSize>>>1
if(fromPool)that.parent=rootParent
return that}
function checked(length){if(length>=kMaxLength()){throw new RangeError('Attempt to allocate Buffer larger than maximum '+'size: 0x'+kMaxLength().toString(16)+' bytes')}
return length|0}
function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding)
var buf=new Buffer(subject,encoding)
delete buf.parent
return buf}
Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)}
Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError('Arguments must be Buffers')}
if(a===b)return 0
var x=a.length
var y=b.length
var i=0
var len=Math.min(x,y)
while(i<len){if(a[i]!==b[i])break
++i}
if(i!==len){x=a[i]
y=b[i]}
if(x<y)return-1
if(y<x)return 1
return 0}
Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'raw':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return true
default:return false}}
Buffer.concat=function concat(list,length){if(!isArray(list))throw new TypeError('list argument must be an Array of Buffers.')
if(list.length===0){return new Buffer(0)}
var i
if(length===undefined){length=0
for(i=0;i<list.length;i++){length+=list[i].length}}
var buf=new Buffer(length)
var pos=0
for(i=0;i<list.length;i++){var item=list[i]
item.copy(buf,pos)
pos+=item.length}
return buf}
function byteLength(string,encoding){if(typeof string!=='string')string=''+string
var len=string.length
if(len===0)return 0
var loweredCase=false
for(;;){switch(encoding){case'ascii':case'binary':case'raw':case'raws':return len
case'utf8':case'utf-8':return utf8ToBytes(string).length
case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return len*2
case'hex':return len>>>1
case'base64':return base64ToBytes(string).length
default:if(loweredCase)return utf8ToBytes(string).length
encoding=(''+encoding).toLowerCase()
loweredCase=true}}}
Buffer.byteLength=byteLength
function slowToString(encoding,start,end){var loweredCase=false
start=start|0
end=end===undefined||end===Infinity?this.length:end|0
if(!encoding)encoding='utf8'
if(start<0)start=0
if(end>this.length)end=this.length
if(end<=start)return''
while(true){switch(encoding){case'hex':return hexSlice(this,start,end)
case'utf8':case'utf-8':return utf8Slice(this,start,end)
case'ascii':return asciiSlice(this,start,end)
case'binary':return binarySlice(this,start,end)
case'base64':return base64Slice(this,start,end)
case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return utf16leSlice(this,start,end)
default:if(loweredCase)throw new TypeError('Unknown encoding: '+encoding)
encoding=(encoding+'').toLowerCase()
loweredCase=true}}}
Buffer.prototype._isBuffer=true
Buffer.prototype.toString=function toString(){var length=this.length|0
if(length===0)return''
if(arguments.length===0)return utf8Slice(this,0,length)
return slowToString.apply(this,arguments)}
Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError('Argument must be a Buffer')
if(this===b)return true
return Buffer.compare(this,b)===0}
Buffer.prototype.inspect=function inspect(){var str=''
var max=exports.INSPECT_MAX_BYTES
if(this.length>0){str=this.toString('hex',0,max).match(/.{2}/g).join(' ')
if(this.length>max)str+=' ... '}
return'<Buffer '+str+'>'}
Buffer.prototype.compare=function compare(b){if(!Buffer.isBuffer(b))throw new TypeError('Argument must be a Buffer')
if(this===b)return 0
return Buffer.compare(this,b)}
Buffer.prototype.indexOf=function indexOf(val,byteOffset){if(byteOffset>0x7fffffff)byteOffset=0x7fffffff
else if(byteOffset<-0x80000000)byteOffset=-0x80000000
byteOffset>>=0
if(this.length===0)return-1
if(byteOffset>=this.length)return-1
if(byteOffset<0)byteOffset=Math.max(this.length+byteOffset,0)
if(typeof val==='string'){if(val.length===0)return-1
return String.prototype.indexOf.call(this,val,byteOffset)}
if(Buffer.isBuffer(val)){return arrayIndexOf(this,val,byteOffset)}
if(typeof val==='number'){if(Buffer.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==='function'){return Uint8Array.prototype.indexOf.call(this,val,byteOffset)}
return arrayIndexOf(this,[val],byteOffset)}
function arrayIndexOf(arr,val,byteOffset){var foundIndex=-1
for(var i=0;byteOffset+i<arr.length;i++){if(arr[byteOffset+i]===val[foundIndex===-1?0:i-foundIndex]){if(foundIndex===-1)foundIndex=i
if(i-foundIndex+1===val.length)return byteOffset+foundIndex}else{foundIndex=-1}}
return-1}
throw new TypeError('val must be string, number or Buffer')}
function hexWrite(buf,string,offset,length){offset=Number(offset)||0
var remaining=buf.length-offset
if(!length){length=remaining}else{length=Number(length)
if(length>remaining){length=remaining}}
var strLen=string.length
if(strLen%2!==0)throw new Error('Invalid hex string')
if(length>strLen/2){length=strLen/2}
for(var i=0;i<length;i++){var parsed=parseInt(string.substr(i*2,2),16)
if(isNaN(parsed))throw new Error('Invalid hex string')
buf[offset+i]=parsed}
return i}
function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}
function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}
function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}
function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}
function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}
Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding='utf8'
length=this.length
offset=0}else if(length===undefined&&typeof offset==='string'){encoding=offset
length=this.length
offset=0}else if(isFinite(offset)){offset=offset|0
if(isFinite(length)){length=length|0
if(encoding===undefined)encoding='utf8'}else{encoding=length
length=undefined}}else{var swap=encoding
encoding=offset
offset=length|0
length=swap}
var remaining=this.length-offset
if(length===undefined||length>remaining)length=remaining
if((string.length>0&&(length<0||offset<0))||offset>this.length){throw new RangeError('attempt to write outside buffer bounds')}
if(!encoding)encoding='utf8'
var loweredCase=false
for(;;){switch(encoding){case'hex':return hexWrite(this,string,offset,length)
case'utf8':case'utf-8':return utf8Write(this,string,offset,length)
case'ascii':return asciiWrite(this,string,offset,length)
case'binary':return binaryWrite(this,string,offset,length)
case'base64':return base64Write(this,string,offset,length)
case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return ucs2Write(this,string,offset,length)
default:if(loweredCase)throw new TypeError('Unknown encoding: '+encoding)
encoding=(''+encoding).toLowerCase()
loweredCase=true}}}
Buffer.prototype.toJSON=function toJSON(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}}
function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}
function utf8Slice(buf,start,end){end=Math.min(buf.length,end)
var res=[]
var i=start
while(i<end){var firstByte=buf[i]
var codePoint=null
var bytesPerSequence=(firstByte>0xEF)?4:(firstByte>0xDF)?3:(firstByte>0xBF)?2:1
if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint
switch(bytesPerSequence){case 1:if(firstByte<0x80){codePoint=firstByte}
break
case 2:secondByte=buf[i+1]
if((secondByte&0xC0)===0x80){tempCodePoint=(firstByte&0x1F)<<0x6|(secondByte&0x3F)
if(tempCodePoint>0x7F){codePoint=tempCodePoint}}
break
case 3:secondByte=buf[i+1]
thirdByte=buf[i+2]
if((secondByte&0xC0)===0x80&&(thirdByte&0xC0)===0x80){tempCodePoint=(firstByte&0xF)<<0xC|(secondByte&0x3F)<<0x6|(thirdByte&0x3F)
if(tempCodePoint>0x7FF&&(tempCodePoint<0xD800||tempCodePoint>0xDFFF)){codePoint=tempCodePoint}}
break
case 4:secondByte=buf[i+1]
thirdByte=buf[i+2]
fourthByte=buf[i+3]
if((secondByte&0xC0)===0x80&&(thirdByte&0xC0)===0x80&&(fourthByte&0xC0)===0x80){tempCodePoint=(firstByte&0xF)<<0x12|(secondByte&0x3F)<<0xC|(thirdByte&0x3F)<<0x6|(fourthByte&0x3F)
if(tempCodePoint>0xFFFF&&tempCodePoint<0x110000){codePoint=tempCodePoint}}}}
if(codePoint===null){codePoint=0xFFFD
bytesPerSequence=1}else if(codePoint>0xFFFF){codePoint-=0x10000
res.push(codePoint>>>10&0x3FF|0xD800)
codePoint=0xDC00|codePoint&0x3FF}
res.push(codePoint)
i+=bytesPerSequence}
return decodeCodePointsArray(res)}
var MAX_ARGUMENTS_LENGTH=0x1000
function decodeCodePointsArray(codePoints){var len=codePoints.length
if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}
var res=''
var i=0
while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}
return res}
function asciiSlice(buf,start,end){var ret=''
end=Math.min(buf.length,end)
for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i]&0x7F)}
return ret}
function binarySlice(buf,start,end){var ret=''
end=Math.min(buf.length,end)
for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i])}
return ret}
function hexSlice(buf,start,end){var len=buf.length
if(!start||start<0)start=0
if(!end||end<0||end>len)end=len
var out=''
for(var i=start;i<end;i++){out+=toHex(buf[i])}
return out}
function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end)
var res=''
for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}
return res}
Buffer.prototype.slice=function slice(start,end){var len=this.length
start=~~start
end=end===undefined?len:~~end
if(start<0){start+=len
if(start<0)start=0}else if(start>len){start=len}
if(end<0){end+=len
if(end<0)end=0}else if(end>len){end=len}
if(end<start)end=start
var newBuf
if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end)
newBuf.__proto__=Buffer.prototype}else{var sliceLen=end-start
newBuf=new Buffer(sliceLen,undefined)
for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}}
if(newBuf.length)newBuf.parent=this.parent||this
return newBuf}
function checkOffset(offset,ext,length){if((offset%1)!==0||offset<0)throw new RangeError('offset is not uint')
if(offset+ext>length)throw new RangeError('Trying to access beyond buffer length')}
Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0
byteLength=byteLength|0
if(!noAssert)checkOffset(offset,byteLength,this.length)
var val=this[offset]
var mul=1
var i=0
while(++i<byteLength&&(mul*=0x100)){val+=this[offset+i]*mul}
return val}
Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0
byteLength=byteLength|0
if(!noAssert){checkOffset(offset,byteLength,this.length)}
var val=this[offset+--byteLength]
var mul=1
while(byteLength>0&&(mul*=0x100)){val+=this[offset+--byteLength]*mul}
return val}
Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length)
return this[offset]}
Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length)
return this[offset]|(this[offset+1]<<8)}
Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length)
return(this[offset]<<8)|this[offset+1]}
Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length)
return((this[offset])|(this[offset+1]<<8)|(this[offset+2]<<16))+
(this[offset+3]*0x1000000)}
Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length)
return(this[offset]*0x1000000)+
((this[offset+1]<<16)|(this[offset+2]<<8)|this[offset+3])}
Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0
byteLength=byteLength|0
if(!noAssert)checkOffset(offset,byteLength,this.length)
var val=this[offset]
var mul=1
var i=0
while(++i<byteLength&&(mul*=0x100)){val+=this[offset+i]*mul}
mul*=0x80
if(val>=mul)val-=Math.pow(2,8*byteLength)
return val}
Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0
byteLength=byteLength|0
if(!noAssert)checkOffset(offset,byteLength,this.length)
var i=byteLength
var mul=1
var val=this[offset+--i]
while(i>0&&(mul*=0x100)){val+=this[offset+--i]*mul}
mul*=0x80
if(val>=mul)val-=Math.pow(2,8*byteLength)
return val}
Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length)
if(!(this[offset]&0x80))return(this[offset])
return((0xff-this[offset]+1)*-1)}
Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length)
var val=this[offset]|(this[offset+1]<<8)
return(val&0x8000)?val|0xFFFF0000:val}
Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length)
var val=this[offset+1]|(this[offset]<<8)
return(val&0x8000)?val|0xFFFF0000:val}
Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length)
return(this[offset])|(this[offset+1]<<8)|(this[offset+2]<<16)|(this[offset+3]<<24)}
Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length)
return(this[offset]<<24)|(this[offset+1]<<16)|(this[offset+2]<<8)|(this[offset+3])}
Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length)
return ieee754.read(this,offset,true,23,4)}
Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length)
return ieee754.read(this,offset,false,23,4)}
Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length)
return ieee754.read(this,offset,true,52,8)}
Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length)
return ieee754.read(this,offset,false,52,8)}
function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('buffer must be a Buffer instance')
if(value>max||value<min)throw new RangeError('value is out of bounds')
if(offset+ext>buf.length)throw new RangeError('index out of range')}
Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value
offset=offset|0
byteLength=byteLength|0
if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0)
var mul=1
var i=0
this[offset]=value&0xFF
while(++i<byteLength&&(mul*=0x100)){this[offset+i]=(value/mul)&0xFF}
return offset+byteLength}
Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value
offset=offset|0
byteLength=byteLength|0
if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0)
var i=byteLength-1
var mul=1
this[offset+i]=value&0xFF
while(--i>=0&&(mul*=0x100)){this[offset+i]=(value/mul)&0xFF}
return offset+byteLength}
Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,1,0xff,0)
if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value)
this[offset]=(value&0xff)
return offset+1}
function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=0xffff+value+1
for(var i=0,j=Math.min(buf.length-offset,2);i<j;i++){buf[offset+i]=(value&(0xff<<(8*(littleEndian?i:1-i))))>>>(littleEndian?i:1-i)*8}}
Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,2,0xffff,0)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value&0xff)
this[offset+1]=(value>>>8)}else{objectWriteUInt16(this,value,offset,true)}
return offset+2}
Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,2,0xffff,0)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value>>>8)
this[offset+1]=(value&0xff)}else{objectWriteUInt16(this,value,offset,false)}
return offset+2}
function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=0xffffffff+value+1
for(var i=0,j=Math.min(buf.length-offset,4);i<j;i++){buf[offset+i]=(value>>>(littleEndian?i:3-i)*8)&0xff}}
Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,4,0xffffffff,0)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=(value>>>24)
this[offset+2]=(value>>>16)
this[offset+1]=(value>>>8)
this[offset]=(value&0xff)}else{objectWriteUInt32(this,value,offset,true)}
return offset+4}
Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,4,0xffffffff,0)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value>>>24)
this[offset+1]=(value>>>16)
this[offset+2]=(value>>>8)
this[offset+3]=(value&0xff)}else{objectWriteUInt32(this,value,offset,false)}
return offset+4}
Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value
offset=offset|0
if(!noAssert){var limit=Math.pow(2,8*byteLength-1)
checkInt(this,value,offset,byteLength,limit-1,-limit)}
var i=0
var mul=1
var sub=value<0?1:0
this[offset]=value&0xFF
while(++i<byteLength&&(mul*=0x100)){this[offset+i]=((value/mul)>>0)-sub&0xFF}
return offset+byteLength}
Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value
offset=offset|0
if(!noAssert){var limit=Math.pow(2,8*byteLength-1)
checkInt(this,value,offset,byteLength,limit-1,-limit)}
var i=byteLength-1
var mul=1
var sub=value<0?1:0
this[offset+i]=value&0xFF
while(--i>=0&&(mul*=0x100)){this[offset+i]=((value/mul)>>0)-sub&0xFF}
return offset+byteLength}
Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,1,0x7f,-0x80)
if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value)
if(value<0)value=0xff+value+1
this[offset]=(value&0xff)
return offset+1}
Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,2,0x7fff,-0x8000)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value&0xff)
this[offset+1]=(value>>>8)}else{objectWriteUInt16(this,value,offset,true)}
return offset+2}
Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,2,0x7fff,-0x8000)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value>>>8)
this[offset+1]=(value&0xff)}else{objectWriteUInt16(this,value,offset,false)}
return offset+2}
Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,4,0x7fffffff,-0x80000000)
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value&0xff)
this[offset+1]=(value>>>8)
this[offset+2]=(value>>>16)
this[offset+3]=(value>>>24)}else{objectWriteUInt32(this,value,offset,true)}
return offset+4}
Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value
offset=offset|0
if(!noAssert)checkInt(this,value,offset,4,0x7fffffff,-0x80000000)
if(value<0)value=0xffffffff+value+1
if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=(value>>>24)
this[offset+1]=(value>>>16)
this[offset+2]=(value>>>8)
this[offset+3]=(value&0xff)}else{objectWriteUInt32(this,value,offset,false)}
return offset+4}
function checkIEEE754(buf,value,offset,ext,max,min){if(value>max||value<min)throw new RangeError('value is out of bounds')
if(offset+ext>buf.length)throw new RangeError('index out of range')
if(offset<0)throw new RangeError('index out of range')}
function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,3.4028234663852886e+38,-3.4028234663852886e+38)}
ieee754.write(buf,value,offset,littleEndian,23,4)
return offset+4}
Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)}
Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)}
function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,1.7976931348623157E+308,-1.7976931348623157E+308)}
ieee754.write(buf,value,offset,littleEndian,52,8)
return offset+8}
Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)}
Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)}
Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0
if(!end&&end!==0)end=this.length
if(targetStart>=target.length)targetStart=target.length
if(!targetStart)targetStart=0
if(end>0&&end<start)end=start
if(end===start)return 0
if(target.length===0||this.length===0)return 0
if(targetStart<0){throw new RangeError('targetStart out of bounds')}
if(start<0||start>=this.length)throw new RangeError('sourceStart out of bounds')
if(end<0)throw new RangeError('sourceEnd out of bounds')
if(end>this.length)end=this.length
if(target.length-targetStart<end-start){end=target.length-targetStart+start}
var len=end-start
var i
if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;i--){target[i+targetStart]=this[i+start]}}else if(len<1000||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;i++){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart)}
return len}
Buffer.prototype.fill=function fill(value,start,end){if(!value)value=0
if(!start)start=0
if(!end)end=this.length
if(end<start)throw new RangeError('end < start')
if(end===start)return
if(this.length===0)return
if(start<0||start>=this.length)throw new RangeError('start out of bounds')
if(end<0||end>this.length)throw new RangeError('end out of bounds')
var i
if(typeof value==='number'){for(i=start;i<end;i++){this[i]=value}}else{var bytes=utf8ToBytes(value.toString())
var len=bytes.length
for(i=start;i<end;i++){this[i]=bytes[i%len]}}
return this}
var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g
function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,'')
if(str.length<2)return''
while(str.length%4!==0){str=str+'='}
return str}
function stringtrim(str){if(str.trim)return str.trim()
return str.replace(/^\s+|\s+$/g,'')}
function toHex(n){if(n<16)return'0'+n.toString(16)
return n.toString(16)}
function utf8ToBytes(string,units){units=units||Infinity
var codePoint
var length=string.length
var leadSurrogate=null
var bytes=[]
for(var i=0;i<length;i++){codePoint=string.charCodeAt(i)
if(codePoint>0xD7FF&&codePoint<0xE000){if(!leadSurrogate){if(codePoint>0xDBFF){if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD)
continue}else if(i+1===length){if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD)
continue}
leadSurrogate=codePoint
continue}
if(codePoint<0xDC00){if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD)
leadSurrogate=codePoint
continue}
codePoint=(leadSurrogate-0xD800<<10|codePoint-0xDC00)+0x10000}else if(leadSurrogate){if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD)}
leadSurrogate=null
if(codePoint<0x80){if((units-=1)<0)break
bytes.push(codePoint)}else if(codePoint<0x800){if((units-=2)<0)break
bytes.push(codePoint>>0x6|0xC0,codePoint&0x3F|0x80)}else if(codePoint<0x10000){if((units-=3)<0)break
bytes.push(codePoint>>0xC|0xE0,codePoint>>0x6&0x3F|0x80,codePoint&0x3F|0x80)}else if(codePoint<0x110000){if((units-=4)<0)break
bytes.push(codePoint>>0x12|0xF0,codePoint>>0xC&0x3F|0x80,codePoint>>0x6&0x3F|0x80,codePoint&0x3F|0x80)}else{throw new Error('Invalid code point')}}
return bytes}
function asciiToBytes(str){var byteArray=[]
for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&0xFF)}
return byteArray}
function utf16leToBytes(str,units){var c,hi,lo
var byteArray=[]
for(var i=0;i<str.length;i++){if((units-=2)<0)break
c=str.charCodeAt(i)
hi=c>>8
lo=c%256
byteArray.push(lo)
byteArray.push(hi)}
return byteArray}
function base64ToBytes(str){return base64.toByteArray(base64clean(str))}
function blitBuffer(src,dst,offset,length){for(var i=0;i<length;i++){if((i+offset>=dst.length)||(i>=src.length))break
dst[i+offset]=src[i]}
return i}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":2,"ieee754":10,"isarray":5}],5:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=='[object Array]';};},{}],6:[function(require,module,exports){module.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","300":"Multiple Choices","301":"Moved Permanently","302":"Moved Temporarily","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Time-out","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Request Entity Too Large","414":"Request-URI Too Large","415":"Unsupported Media Type","416":"Requested Range Not Satisfiable","417":"Expectation Failed","418":"I'm a teapot","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Time-out","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}},{}],7:[function(require,module,exports){(function(Buffer){function isArray(arg){if(Array.isArray){return Array.isArray(arg);}
return objectToString(arg)==='[object Array]';}
exports.isArray=isArray;function isBoolean(arg){return typeof arg==='boolean';}
exports.isBoolean=isBoolean;function isNull(arg){return arg===null;}
exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null;}
exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==='number';}
exports.isNumber=isNumber;function isString(arg){return typeof arg==='string';}
exports.isString=isString;function isSymbol(arg){return typeof arg==='symbol';}
exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0;}
exports.isUndefined=isUndefined;function isRegExp(re){return objectToString(re)==='[object RegExp]';}
exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==='object'&&arg!==null;}
exports.isObject=isObject;function isDate(d){return objectToString(d)==='[object Date]';}
exports.isDate=isDate;function isError(e){return(objectToString(e)==='[object Error]'||e instanceof Error);}
exports.isError=isError;function isFunction(arg){return typeof arg==='function';}
exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==='boolean'||typeof arg==='number'||typeof arg==='string'||typeof arg==='symbol'||typeof arg==='undefined';}
exports.isPrimitive=isPrimitive;exports.isBuffer=Buffer.isBuffer;function objectToString(o){return Object.prototype.toString.call(o);}}).call(this,{"isBuffer":require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":12}],8:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined;}
module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))
throw TypeError('n must be a positive number');this._maxListeners=n;return this;};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)
this._events={};if(type==='error'){if(!this._events.error||(isObject(this._events.error)&&!this._events.error.length)){er=arguments[1];if(er instanceof Error){throw er;}
throw TypeError('Uncaught, unspecified "error" event.');}}
handler=this._events[type];if(isUndefined(handler))
return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args);}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)
listeners[i].apply(this,args);}
return true;};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))
throw TypeError('listener must be a function');if(!this._events)
this._events={};if(this._events.newListener)
this.emit('newListener',type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])
this._events[type]=listener;else if(isObject(this._events[type]))
this._events[type].push(listener);else
this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners;}else{m=EventEmitter.defaultMaxListeners;}
if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error('(node) warning: possible EventEmitter memory '+'leak detected. %d listeners added. '+'Use emitter.setMaxListeners() to increase limit.',this._events[type].length);if(typeof console.trace==='function'){console.trace();}}}
return this;};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))
throw TypeError('listener must be a function');var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments);}}
g.listener=listener;this.on(type,g);return this;};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))
throw TypeError('listener must be a function');if(!this._events||!this._events[type])
return this;list=this._events[type];length=list.length;position=-1;if(list===listener||(isFunction(list.listener)&&list.listener===listener)){delete this._events[type];if(this._events.removeListener)
this.emit('removeListener',type,listener);}else if(isObject(list)){for(i=length;i-->0;){if(list[i]===listener||(list[i].listener&&list[i].listener===listener)){position=i;break;}}
if(position<0)
return this;if(list.length===1){list.length=0;delete this._events[type];}else{list.splice(position,1);}
if(this._events.removeListener)
this.emit('removeListener',type,listener);}
return this;};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)
return this;if(!this._events.removeListener){if(arguments.length===0)
this._events={};else if(this._events[type])
delete this._events[type];return this;}
if(arguments.length===0){for(key in this._events){if(key==='removeListener')continue;this.removeAllListeners(key);}
this.removeAllListeners('removeListener');this._events={};return this;}
listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners);}else if(listeners){while(listeners.length)
this.removeListener(type,listeners[listeners.length-1]);}
delete this._events[type];return this;};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])
ret=[];else if(isFunction(this._events[type]))
ret=[this._events[type]];else
ret=this._events[type].slice();return ret;};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))
return 1;else if(evlistener)
return evlistener.length;}
return 0;};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type);};function isFunction(arg){return typeof arg==='function';}
function isNumber(arg){return typeof arg==='number';}
function isObject(arg){return typeof arg==='object'&&arg!==null;}
function isUndefined(arg){return arg===void 0;}},{}],9:[function(require,module,exports){var http=require('http');var https=module.exports;for(var key in http){if(http.hasOwnProperty(key))https[key]=http[key];};https.request=function(params,cb){if(!params)params={};params.scheme='https';params.protocol='https:';return http.request.call(this,params,cb);}},{"http":35}],10:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m
var eLen=nBytes*8-mLen-1
var eMax=(1<<eLen)-1
var eBias=eMax>>1
var nBits=-7
var i=isLE?(nBytes-1):0
var d=isLE?-1:1
var s=buffer[offset+i]
i+=d
e=s&((1<<(-nBits))-1)
s>>=(-nBits)
nBits+=eLen
for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}
m=e&((1<<(-nBits))-1)
e>>=(-nBits)
nBits+=mLen
for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}
if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:((s?-1:1)*Infinity)}else{m=m+Math.pow(2,mLen)
e=e-eBias}
return(s?-1:1)*m*Math.pow(2,e-mLen)}
exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c
var eLen=nBytes*8-mLen-1
var eMax=(1<<eLen)-1
var eBias=eMax>>1
var rt=(mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0)
var i=isLE?0:(nBytes-1)
var d=isLE?1:-1
var s=value<0||(value===0&&1/value<0)?1:0
value=Math.abs(value)
if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0
e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2)
if(value*(c=Math.pow(2,-e))<1){e--
c*=2}
if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}
if(value*c>=2){e++
c/=2}
if(e+eBias>=eMax){m=0
e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen)
e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen)
e=0}}
for(;mLen>=8;buffer[offset+i]=m&0xff,i+=d,m/=256,mLen-=8){}
e=(e<<mLen)|m
eLen+=mLen
for(;eLen>0;buffer[offset+i]=e&0xff,i+=d,e/=256,eLen-=8){}
buffer[offset+i-d]|=s*128}},{}],11:[function(require,module,exports){if(typeof Object.create==='function'){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor
ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}});};}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor
var TempCtor=function(){}
TempCtor.prototype=superCtor.prototype
ctor.prototype=new TempCtor()
ctor.prototype.constructor=ctor}}},{}],12:[function(require,module,exports){module.exports=function(obj){return!!(obj!=null&&(obj._isBuffer||(obj.constructor&&typeof obj.constructor.isBuffer==='function'&&obj.constructor.isBuffer(obj))))}},{}],13:[function(require,module,exports){module.exports=Array.isArray||function(arr){return Object.prototype.toString.call(arr)=='[object Array]';};},{}],14:[function(require,module,exports){var debug=require('debug')('jsonp');module.exports=jsonp;var count=0;function noop(){}
function jsonp(url,opts,fn){if('function'==typeof opts){fn=opts;opts={};}
if(!opts)opts={};var prefix=opts.prefix||'__jp';var id=opts.name||(prefix+(count++));var param=opts.param||'callback';var timeout=null!=opts.timeout?opts.timeout:60000;var enc=encodeURIComponent;var target=document.getElementsByTagName('script')[0]||document.head;var script;var timer;if(timeout){timer=setTimeout(function(){cleanup();if(fn)fn(new Error('Timeout'));},timeout);}
function cleanup(){if(script.parentNode)script.parentNode.removeChild(script);window[id]=noop;if(timer)clearTimeout(timer);}
function cancel(){if(window[id]){cleanup();}}
window[id]=function(data){debug('jsonp got',data);cleanup();if(fn)fn(null,data);};url+=(~url.indexOf('?')?'&':'?')+param+'='+enc(id);url=url.replace('?&','?');debug('jsonp req "%s"',url);script=document.createElement('script');script.src=url;target.parentNode.insertBefore(script,target);return cancel;}},{"debug":15}],15:[function(require,module,exports){exports=module.exports=require('./debug');exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;var storage;if(typeof chrome!=='undefined'&&typeof chrome.storage!=='undefined')
storage=chrome.storage.local;else
storage=localstorage();exports.colors=['lightseagreen','forestgreen','goldenrod','dodgerblue','darkorchid','crimson'];function useColors(){return('WebkitAppearance'in document.documentElement.style)||(window.console&&(console.firebug||(console.exception&&console.table)))||(navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31);}
exports.formatters.j=function(v){return JSON.stringify(v);};function formatArgs(){var args=arguments;var useColors=this.useColors;args[0]=(useColors?'%c':'')
+this.namespace
+(useColors?' %c':' ')
+args[0]
+(useColors?'%c ':' ')
+'+'+exports.humanize(this.diff);if(!useColors)return args;var c='color: '+this.color;args=[args[0],c,'color: inherit'].concat(Array.prototype.slice.call(args,1));var index=0;var lastC=0;args[0].replace(/%[a-z%]/g,function(match){if('%%'===match)return;index++;if('%c'===match){lastC=index;}});args.splice(lastC,0,c);return args;}
function log(){return'object'===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments);}
function save(namespaces){try{if(null==namespaces){storage.removeItem('debug');}else{storage.debug=namespaces;}}catch(e){}}
function load(){var r;try{r=storage.debug;}catch(e){}
return r;}
exports.enable(load());function localstorage(){try{return window.localStorage;}catch(e){}}},{"./debug":16}],16:[function(require,module,exports){exports=module.exports=debug;exports.coerce=coerce;exports.disable=disable;exports.enable=enable;exports.enabled=enabled;exports.humanize=require('ms');exports.names=[];exports.skips=[];exports.formatters={};var prevColor=0;var prevTime;function selectColor(){return exports.colors[prevColor++%exports.colors.length];}
function debug(namespace){function disabled(){}
disabled.enabled=false;function enabled(){var self=enabled;var curr=+new Date();var ms=curr-(prevTime||curr);self.diff=ms;self.prev=prevTime;self.curr=curr;prevTime=curr;if(null==self.useColors)self.useColors=exports.useColors();if(null==self.color&&self.useColors)self.color=selectColor();var args=Array.prototype.slice.call(arguments);args[0]=exports.coerce(args[0]);if('string'!==typeof args[0]){args=['%o'].concat(args);}
var index=0;args[0]=args[0].replace(/%([a-z%])/g,function(match,format){if(match==='%%')return match;index++;var formatter=exports.formatters[format];if('function'===typeof formatter){var val=args[index];match=formatter.call(self,val);args.splice(index,1);index--;}
return match;});if('function'===typeof exports.formatArgs){args=exports.formatArgs.apply(self,args);}
var logFn=enabled.log||exports.log||console.log.bind(console);logFn.apply(self,args);}
enabled.enabled=true;var fn=exports.enabled(namespace)?enabled:disabled;fn.namespace=namespace;return fn;}
function enable(namespaces){exports.save(namespaces);var split=(namespaces||'').split(/[\s,]+/);var len=split.length;for(var i=0;i<len;i++){if(!split[i])continue;namespaces=split[i].replace(/\*/g,'.*?');if(namespaces[0]==='-'){exports.skips.push(new RegExp('^'+namespaces.substr(1)+'$'));}else{exports.names.push(new RegExp('^'+namespaces+'$'));}}}
function disable(){exports.enable('');}
function enabled(name){var i,len;for(i=0,len=exports.skips.length;i<len;i++){if(exports.skips[i].test(name)){return false;}}
for(i=0,len=exports.names.length;i<len;i++){if(exports.names[i].test(name)){return true;}}
return false;}
function coerce(val){if(val instanceof Error)return val.stack||val.message;return val;}},{"ms":17}],17:[function(require,module,exports){var s=1000;var m=s*60;var h=m*60;var d=h*24;var y=d*365.25;module.exports=function(val,options){options=options||{};if('string'==typeof val)return parse(val);return options.long?long(val):short(val);};function parse(str){var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);var type=(match[2]||'ms').toLowerCase();switch(type){case'years':case'year':case'yrs':case'yr':case'y':return n*y;case'days':case'day':case'd':return n*d;case'hours':case'hour':case'hrs':case'hr':case'h':return n*h;case'minutes':case'minute':case'mins':case'min':case'm':return n*m;case'seconds':case'second':case'secs':case'sec':case's':return n*s;case'milliseconds':case'millisecond':case'msecs':case'msec':case'ms':return n;}}
function short(ms){if(ms>=d)return Math.round(ms/d)+'d';if(ms>=h)return Math.round(ms/h)+'h';if(ms>=m)return Math.round(ms/m)+'m';if(ms>=s)return Math.round(ms/s)+'s';return ms+'ms';}
function long(ms){return plural(ms,d,'day')||plural(ms,h,'hour')||plural(ms,m,'minute')||plural(ms,s,'second')||ms+' ms';}
function plural(ms,n,name){if(ms<n)return;if(ms<n*1.5)return Math.floor(ms/n)+' '+name;return Math.ceil(ms/n)+' '+name+'s';}},{}],18:[function(require,module,exports){(function(process){'use strict';if(!process.version||process.version.indexOf('v0.')===0||process.version.indexOf('v1.')===0&&process.version.indexOf('v1.8.')!==0){module.exports=nextTick;}else{module.exports=process.nextTick;}
function nextTick(fn){var args=new Array(arguments.length-1);var i=0;while(i<args.length){args[i++]=arguments[i];}
process.nextTick(function afterTick(){fn.apply(null,args);});}}).call(this,require('_process'))},{"_process":19}],19:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue);}else{queueIndex=-1;}
if(queue.length){drainQueue();}}
function drainQueue(){if(draining){return;}
var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run();}}
queueIndex=-1;len=queue.length;}
currentQueue=null;draining=false;clearTimeout(timeout);}
process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i];}}
queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0);}};function Item(fun,array){this.fun=fun;this.array=array;}
Item.prototype.run=function(){this.fun.apply(null,this.array);};process.title='browser';process.browser=true;process.env={};process.argv=[];process.version='';process.versions={};function noop(){}
process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error('process.binding is not supported');};process.cwd=function(){return'/'};process.chdir=function(dir){throw new Error('process.chdir is not supported');};process.umask=function(){return 0;};},{}],20:[function(require,module,exports){(function(global){/*! https://mths.be/punycode v1.4.0 by @mathias */;(function(root){var freeExports=typeof exports=='object'&&exports&&!exports.nodeType&&exports;var freeModule=typeof module=='object'&&module&&!module.nodeType&&module;var freeGlobal=typeof global=='object'&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal;}
var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter='-',regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={'overflow':'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type]);}
function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length]);}
return result;}
function mapDomain(string,fn){var parts=string.split('@');var result='';if(parts.length>1){result=parts[0]+'@';string=parts[1];}
string=string.replace(regexSeparators,'\x2E');var labels=string.split('.');var encoded=map(labels,fn).join('.');return result+encoded;}
function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=0xD800&&value<=0xDBFF&&counter<length){extra=string.charCodeAt(counter++);if((extra&0xFC00)==0xDC00){output.push(((value&0x3FF)<<10)+(extra&0x3FF)+0x10000);}else{output.push(value);counter--;}}else{output.push(value);}}
return output;}
function ucs2encode(array){return map(array,function(value){var output='';if(value>0xFFFF){value-=0x10000;output+=stringFromCharCode(value>>>10&0x3FF|0xD800);value=0xDC00|value&0x3FF;}
output+=stringFromCharCode(value);return output;}).join('');}
function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22;}
if(codePoint-65<26){return codePoint-65;}
if(codePoint-97<26){return codePoint-97;}
return base;}
function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5);}
function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin);}
return floor(k+(baseMinusTMin+1)*delta/(delta+skew));}
function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0;}
for(j=0;j<basic;++j){if(input.charCodeAt(j)>=0x80){error('not-basic');}
output.push(input.charCodeAt(j));}
for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error('invalid-input');}
digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error('overflow');}
i+=digit*w;t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(digit<t){break;}
baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error('overflow');}
w*=baseMinusT;}
out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error('overflow');}
n+=floor(i/out);i%=out;output.splice(i++,0,n);}
return ucs2encode(output);}
function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<0x80){output.push(stringFromCharCode(currentValue));}}
handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter);}
while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue;}}
handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error('overflow');}
delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error('overflow');}
if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(q<t){break;}
qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT);}
output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount;}}
++delta;++n;}
return output.join('');}
function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string;});}
function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?'xn--'+encode(string):string;});}
punycode={'version':'1.3.2','ucs2':{'decode':ucs2decode,'encode':ucs2encode},'decode':decode,'encode':encode,'toASCII':toASCII,'toUnicode':toUnicode};if(typeof define=='function'&&typeof define.amd=='object'&&define.amd){define('punycode',function(){return punycode;});}else if(freeExports&&freeModule){if(module.exports==freeExports){freeModule.exports=punycode;}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);}}}else{root.punycode=punycode;}}(this));}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],21:[function(require,module,exports){'use strict';function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}
module.exports=function(qs,sep,eq,options){sep=sep||'&';eq=eq||'=';var obj={};if(typeof qs!=='string'||qs.length===0){return obj;}
var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1000;if(options&&typeof options.maxKeys==='number'){maxKeys=options.maxKeys;}
var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys;}
for(var i=0;i<len;++i){var x=qs[i].replace(regexp,'%20'),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1);}else{kstr=x;vstr='';}
k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v;}else if(isArray(obj[k])){obj[k].push(v);}else{obj[k]=[obj[k],v];}}
return obj;};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==='[object Array]';};},{}],22:[function(require,module,exports){'use strict';var stringifyPrimitive=function(v){switch(typeof v){case'string':return v;case'boolean':return v?'true':'false';case'number':return isFinite(v)?v:'';default:return'';}};module.exports=function(obj,sep,eq,name){sep=sep||'&';eq=eq||'=';if(obj===null){obj=undefined;}
if(typeof obj==='object'){return map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v));}).join(sep);}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]));}}).join(sep);}
if(!name)return'';return encodeURIComponent(stringifyPrimitive(name))+eq+
encodeURIComponent(stringifyPrimitive(obj));};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==='[object Array]';};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i));}
return res;}
var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key);}
return res;};},{}],23:[function(require,module,exports){'use strict';exports.decode=exports.parse=require('./decode');exports.encode=exports.stringify=require('./encode');},{"./decode":21,"./encode":22}],24:[function(require,module,exports){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":25}],25:[function(require,module,exports){'use strict';var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys;}
module.exports=Duplex;var processNextTick=require('process-nextick-args');var util=require('core-util-is');util.inherits=require('inherits');var Readable=require('./_stream_readable');var Writable=require('./_stream_writable');util.inherits(Duplex,Readable);var keys=objectKeys(Writable.prototype);for(var v=0;v<keys.length;v++){var method=keys[v];if(!Duplex.prototype[method])
Duplex.prototype[method]=Writable.prototype[method];}
function Duplex(options){if(!(this instanceof Duplex))
return new Duplex(options);Readable.call(this,options);Writable.call(this,options);if(options&&options.readable===false)
this.readable=false;if(options&&options.writable===false)
this.writable=false;this.allowHalfOpen=true;if(options&&options.allowHalfOpen===false)
this.allowHalfOpen=false;this.once('end',onend);}
function onend(){if(this.allowHalfOpen||this._writableState.ended)
return;processNextTick(onEndNT,this);}
function onEndNT(self){self.end();}
function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i);}}},{"./_stream_readable":27,"./_stream_writable":29,"core-util-is":7,"inherits":11,"process-nextick-args":18}],26:[function(require,module,exports){'use strict';module.exports=PassThrough;var Transform=require('./_stream_transform');var util=require('core-util-is');util.inherits=require('inherits');util.inherits(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))
return new PassThrough(options);Transform.call(this,options);}
PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk);};},{"./_stream_transform":28,"core-util-is":7,"inherits":11}],27:[function(require,module,exports){(function(process){'use strict';module.exports=Readable;var processNextTick=require('process-nextick-args');var isArray=require('isarray');var Buffer=require('buffer').Buffer;Readable.ReadableState=ReadableState;var EE=require('events');var EElistenerCount=function(emitter,type){return emitter.listeners(type).length;};var Stream;(function(){try{Stream=require('st'+'ream');}catch(_){}finally{if(!Stream)
Stream=require('events').EventEmitter;}}())
var Buffer=require('buffer').Buffer;var util=require('core-util-is');util.inherits=require('inherits');var debugUtil=require('util');var debug;if(debugUtil&&debugUtil.debuglog){debug=debugUtil.debuglog('stream');}else{debug=function(){};}
var StringDecoder;util.inherits(Readable,Stream);var Duplex;function ReadableState(options,stream){Duplex=Duplex||require('./_stream_duplex');options=options||{};this.objectMode=!!options.objectMode;if(stream instanceof Duplex)
this.objectMode=this.objectMode||!!options.readableObjectMode;var hwm=options.highWaterMark;var defaultHwm=this.objectMode?16:16*1024;this.highWaterMark=(hwm||hwm===0)?hwm:defaultHwm;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.defaultEncoding=options.defaultEncoding||'utf8';this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)
StringDecoder=require('string_decoder/').StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding;}}
var Duplex;function Readable(options){Duplex=Duplex||require('./_stream_duplex');if(!(this instanceof Readable))
return new Readable(options);this._readableState=new ReadableState(options,this);this.readable=true;if(options&&typeof options.read==='function')
this._read=options.read;Stream.call(this);}
Readable.prototype.push=function(chunk,encoding){var state=this._readableState;if(!state.objectMode&&typeof chunk==='string'){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=new Buffer(chunk,encoding);encoding='';}}
return readableAddChunk(this,state,chunk,encoding,false);};Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,'',true);};Readable.prototype.isPaused=function(){return this._readableState.flowing===false;};function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er){stream.emit('error',er);}else if(chunk===null){state.reading=false;onEofChunk(stream,state);}else if(state.objectMode||chunk&&chunk.length>0){if(state.ended&&!addToFront){var e=new Error('stream.push() after EOF');stream.emit('error',e);}else if(state.endEmitted&&addToFront){var e=new Error('stream.unshift() after end event');stream.emit('error',e);}else{if(state.decoder&&!addToFront&&!encoding)
chunk=state.decoder.write(chunk);if(!addToFront)
state.reading=false;if(state.flowing&&state.length===0&&!state.sync){stream.emit('data',chunk);stream.read(0);}else{state.length+=state.objectMode?1:chunk.length;if(addToFront)
state.buffer.unshift(chunk);else
state.buffer.push(chunk);if(state.needReadable)
emitReadable(stream);}
maybeReadMore(stream,state);}}else if(!addToFront){state.reading=false;}
return needMoreData(state);}
function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||state.length===0);}
Readable.prototype.setEncoding=function(enc){if(!StringDecoder)
StringDecoder=require('string_decoder/').StringDecoder;this._readableState.decoder=new StringDecoder(enc);this._readableState.encoding=enc;return this;};var MAX_HWM=0x800000;function computeNewHighWaterMark(n){if(n>=MAX_HWM){n=MAX_HWM;}else{n--;n|=n>>>1;n|=n>>>2;n|=n>>>4;n|=n>>>8;n|=n>>>16;n++;}
return n;}
function howMuchToRead(n,state){if(state.length===0&&state.ended)
return 0;if(state.objectMode)
return n===0?0:1;if(n===null||isNaN(n)){if(state.flowing&&state.buffer.length)
return state.buffer[0].length;else
return state.length;}
if(n<=0)
return 0;if(n>state.highWaterMark)
state.highWaterMark=computeNewHighWaterMark(n);if(n>state.length){if(!state.ended){state.needReadable=true;return 0;}else{return state.length;}}
return n;}
Readable.prototype.read=function(n){debug('read',n);var state=this._readableState;var nOrig=n;if(typeof n!=='number'||n>0)
state.emittedReadable=false;if(n===0&&state.needReadable&&(state.length>=state.highWaterMark||state.ended)){debug('read: emitReadable',state.length,state.ended);if(state.length===0&&state.ended)
endReadable(this);else
emitReadable(this);return null;}
n=howMuchToRead(n,state);if(n===0&&state.ended){if(state.length===0)
endReadable(this);return null;}
var doRead=state.needReadable;debug('need readable',doRead);if(state.length===0||state.length-n<state.highWaterMark){doRead=true;debug('length less than watermark',doRead);}
if(state.ended||state.reading){doRead=false;debug('reading or ended',doRead);}
if(doRead){debug('do read');state.reading=true;state.sync=true;if(state.length===0)
state.needReadable=true;this._read(state.highWaterMark);state.sync=false;}
if(doRead&&!state.reading)
n=howMuchToRead(nOrig,state);var ret;if(n>0)
ret=fromList(n,state);else
ret=null;if(ret===null){state.needReadable=true;n=0;}
state.length-=n;if(state.length===0&&!state.ended)
state.needReadable=true;if(nOrig!==n&&state.ended&&state.length===0)
endReadable(this);if(ret!==null)
this.emit('data',ret);return ret;};function chunkInvalid(state,chunk){var er=null;if(!(Buffer.isBuffer(chunk))&&typeof chunk!=='string'&&chunk!==null&&chunk!==undefined&&!state.objectMode){er=new TypeError('Invalid non-string/buffer chunk');}
return er;}
function onEofChunk(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length;}}
state.ended=true;emitReadable(stream);}
function emitReadable(stream){var state=stream._readableState;state.needReadable=false;if(!state.emittedReadable){debug('emitReadable',state.flowing);state.emittedReadable=true;if(state.sync)
processNextTick(emitReadable_,stream);else
emitReadable_(stream);}}
function emitReadable_(stream){debug('emit readable');stream.emit('readable');flow(stream);}
function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;processNextTick(maybeReadMore_,stream,state);}}
function maybeReadMore_(stream,state){var len=state.length;while(!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark){debug('maybeReadMore read 0');stream.read(0);if(len===state.length)
break;else
len=state.length;}
state.readingMore=false;}
Readable.prototype._read=function(n){this.emit('error',new Error('not implemented'));};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break;}
state.pipesCount+=1;debug('pipe count=%d opts=%j',state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:cleanup;if(state.endEmitted)
processNextTick(endFn);else
src.once('end',endFn);dest.on('unpipe',onunpipe);function onunpipe(readable){debug('onunpipe');if(readable===src){cleanup();}}
function onend(){debug('onend');dest.end();}
var ondrain=pipeOnDrain(src);dest.on('drain',ondrain);var cleanedUp=false;function cleanup(){debug('cleanup');dest.removeListener('close',onclose);dest.removeListener('finish',onfinish);dest.removeListener('drain',ondrain);dest.removeListener('error',onerror);dest.removeListener('unpipe',onunpipe);src.removeListener('end',onend);src.removeListener('end',cleanup);src.removeListener('data',ondata);cleanedUp=true;if(state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain))
ondrain();}
src.on('data',ondata);function ondata(chunk){debug('ondata');var ret=dest.write(chunk);if(false===ret){if(state.pipesCount===1&&state.pipes[0]===dest&&src.listenerCount('data')===1&&!cleanedUp){debug('false write response, pause',src._readableState.awaitDrain);src._readableState.awaitDrain++;}
src.pause();}}
function onerror(er){debug('onerror',er);unpipe();dest.removeListener('error',onerror);if(EElistenerCount(dest,'error')===0)
dest.emit('error',er);}
if(!dest._events||!dest._events.error)
dest.on('error',onerror);else if(isArray(dest._events.error))
dest._events.error.unshift(onerror);else
dest._events.error=[onerror,dest._events.error];function onclose(){dest.removeListener('finish',onfinish);unpipe();}
dest.once('close',onclose);function onfinish(){debug('onfinish');dest.removeListener('close',onclose);unpipe();}
dest.once('finish',onfinish);function unpipe(){debug('unpipe');src.unpipe(dest);}
dest.emit('pipe',src);if(!state.flowing){debug('pipe resume');src.resume();}
return dest;};function pipeOnDrain(src){return function(){var state=src._readableState;debug('pipeOnDrain',state.awaitDrain);if(state.awaitDrain)
state.awaitDrain--;if(state.awaitDrain===0&&EElistenerCount(src,'data')){state.flowing=true;flow(src);}};}
Readable.prototype.unpipe=function(dest){var state=this._readableState;if(state.pipesCount===0)
return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)
return this;if(!dest)
dest=state.pipes;state.pipes=null;state.pipesCount=0;state.flowing=false;if(dest)
dest.emit('unpipe',this);return this;}
if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;state.flowing=false;for(var i=0;i<len;i++)
dests[i].emit('unpipe',this);return this;}
var i=indexOf(state.pipes,dest);if(i===-1)
return this;state.pipes.splice(i,1);state.pipesCount-=1;if(state.pipesCount===1)
state.pipes=state.pipes[0];dest.emit('unpipe',this);return this;};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(ev==='data'&&false!==this._readableState.flowing){this.resume();}
if(ev==='readable'&&this.readable){var state=this._readableState;if(!state.readableListening){state.readableListening=true;state.emittedReadable=false;state.needReadable=true;if(!state.reading){processNextTick(nReadingNextTick,this);}else if(state.length){emitReadable(this,state);}}}
return res;};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(self){debug('readable nexttick read 0');self.read(0);}
Readable.prototype.resume=function(){var state=this._readableState;if(!state.flowing){debug('resume');state.flowing=true;resume(this,state);}
return this;};function resume(stream,state){if(!state.resumeScheduled){state.resumeScheduled=true;processNextTick(resume_,stream,state);}}
function resume_(stream,state){if(!state.reading){debug('resume read 0');stream.read(0);}
state.resumeScheduled=false;stream.emit('resume');flow(stream);if(state.flowing&&!state.reading)
stream.read(0);}
Readable.prototype.pause=function(){debug('call pause flowing=%j',this._readableState.flowing);if(false!==this._readableState.flowing){debug('pause');this._readableState.flowing=false;this.emit('pause');}
return this;};function flow(stream){var state=stream._readableState;debug('flow',state.flowing);if(state.flowing){do{var chunk=stream.read();}while(null!==chunk&&state.flowing);}}
Readable.prototype.wrap=function(stream){var state=this._readableState;var paused=false;var self=this;stream.on('end',function(){debug('wrapped end');if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)
self.push(chunk);}
self.push(null);});stream.on('data',function(chunk){debug('wrapped data');if(state.decoder)
chunk=state.decoder.write(chunk);if(state.objectMode&&(chunk===null||chunk===undefined))
return;else if(!state.objectMode&&(!chunk||!chunk.length))
return;var ret=self.push(chunk);if(!ret){paused=true;stream.pause();}});for(var i in stream){if(this[i]===undefined&&typeof stream[i]==='function'){this[i]=function(method){return function(){return stream[method].apply(stream,arguments);};}(i);}}
var events=['error','close','destroy','pause','resume'];forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev));});self._read=function(n){debug('wrapped _read',n);if(paused){paused=false;stream.resume();}};return self;};Readable._fromList=fromList;function fromList(n,state){var list=state.buffer;var length=state.length;var stringMode=!!state.decoder;var objectMode=!!state.objectMode;var ret;if(list.length===0)
return null;if(length===0)
ret=null;else if(objectMode)
ret=list.shift();else if(!n||n>=length){if(stringMode)
ret=list.join('');else if(list.length===1)
ret=list[0];else
ret=Buffer.concat(list,length);list.length=0;}else{if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n);list[0]=buf.slice(n);}else if(n===list[0].length){ret=list.shift();}else{if(stringMode)
ret='';else
ret=new Buffer(n);var c=0;for(var i=0,l=list.length;i<l&&c<n;i++){var buf=list[0];var cpy=Math.min(n-c,buf.length);if(stringMode)
ret+=buf.slice(0,cpy);else
buf.copy(ret,c,0,cpy);if(cpy<buf.length)
list[0]=buf.slice(cpy);else
list.shift();c+=cpy;}}}
return ret;}
function endReadable(stream){var state=stream._readableState;if(state.length>0)
throw new Error('endReadable called on non-empty stream');if(!state.endEmitted){state.ended=true;processNextTick(endReadableNT,state,stream);}}
function endReadableNT(state,stream){if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit('end');}}
function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i);}}
function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i;}
return-1;}}).call(this,require('_process'))},{"./_stream_duplex":25,"_process":19,"buffer":4,"core-util-is":7,"events":8,"inherits":11,"isarray":13,"process-nextick-args":18,"string_decoder/":39,"util":3}],28:[function(require,module,exports){'use strict';module.exports=Transform;var Duplex=require('./_stream_duplex');var util=require('core-util-is');util.inherits=require('inherits');util.inherits(Transform,Duplex);function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data);};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null;}
function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=false;var cb=ts.writecb;if(!cb)
return stream.emit('error',new Error('no writecb in Transform class'));ts.writechunk=null;ts.writecb=null;if(data!==null&&data!==undefined)
stream.push(data);if(cb)
cb(er);var rs=stream._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){stream._read(rs.highWaterMark);}}
function Transform(options){if(!(this instanceof Transform))
return new Transform(options);Duplex.call(this,options);this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=true;this._readableState.sync=false;if(options){if(typeof options.transform==='function')
this._transform=options.transform;if(typeof options.flush==='function')
this._flush=options.flush;}
this.once('prefinish',function(){if(typeof this._flush==='function')
this._flush(function(er){done(stream,er);});else
done(stream);});}
Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding);};Transform.prototype._transform=function(chunk,encoding,cb){throw new Error('not implemented');};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)
this._read(rs.highWaterMark);}};Transform.prototype._read=function(n){var ts=this._transformState;if(ts.writechunk!==null&&ts.writecb&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform);}else{ts.needTransform=true;}};function done(stream,er){if(er)
return stream.emit('error',er);var ws=stream._writableState;var ts=stream._transformState;if(ws.length)
throw new Error('calling transform done when ws.length != 0');if(ts.transforming)
throw new Error('calling transform done when still transforming');return stream.push(null);}},{"./_stream_duplex":25,"core-util-is":7,"inherits":11}],29:[function(require,module,exports){'use strict';module.exports=Writable;var processNextTick=require('process-nextick-args');var Buffer=require('buffer').Buffer;Writable.WritableState=WritableState;var util=require('core-util-is');util.inherits=require('inherits');var internalUtil={deprecate:require('util-deprecate')};var Stream;(function(){try{Stream=require('st'+'ream');}catch(_){}finally{if(!Stream)
Stream=require('events').EventEmitter;}}())
var Buffer=require('buffer').Buffer;util.inherits(Writable,Stream);function nop(){}
function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb;this.next=null;}
var Duplex;function WritableState(options,stream){Duplex=Duplex||require('./_stream_duplex');options=options||{};this.objectMode=!!options.objectMode;if(stream instanceof Duplex)
this.objectMode=this.objectMode||!!options.writableObjectMode;var hwm=options.highWaterMark;var defaultHwm=this.objectMode?16:16*1024;this.highWaterMark=(hwm||hwm===0)?hwm:defaultHwm;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||'utf8';this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er);};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;}
WritableState.prototype.getBuffer=function writableStateGetBuffer(){var current=this.bufferedRequest;var out=[];while(current){out.push(current);current=current.next;}
return out;};(function(){try{Object.defineProperty(WritableState.prototype,'buffer',{get:internalUtil.deprecate(function(){return this.getBuffer();},'_writableState.buffer is deprecated. Use _writableState.getBuffer '+'instead.')});}catch(_){}}());var Duplex;function Writable(options){Duplex=Duplex||require('./_stream_duplex');if(!(this instanceof Writable)&&!(this instanceof Duplex))
return new Writable(options);this._writableState=new WritableState(options,this);this.writable=true;if(options){if(typeof options.write==='function')
this._write=options.write;if(typeof options.writev==='function')
this._writev=options.writev;}
Stream.call(this);}
Writable.prototype.pipe=function(){this.emit('error',new Error('Cannot pipe. Not readable.'));};function writeAfterEnd(stream,cb){var er=new Error('write after end');stream.emit('error',er);processNextTick(cb,er);}
function validChunk(stream,state,chunk,cb){var valid=true;if(!(Buffer.isBuffer(chunk))&&typeof chunk!=='string'&&chunk!==null&&chunk!==undefined&&!state.objectMode){var er=new TypeError('Invalid non-string/buffer chunk');stream.emit('error',er);processNextTick(cb,er);valid=false;}
return valid;}
Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;if(typeof encoding==='function'){cb=encoding;encoding=null;}
if(Buffer.isBuffer(chunk))
encoding='buffer';else if(!encoding)
encoding=state.defaultEncoding;if(typeof cb!=='function')
cb=nop;if(state.ended)
writeAfterEnd(this,cb);else if(validChunk(this,state,chunk,cb)){state.pendingcb++;ret=writeOrBuffer(this,state,chunk,encoding,cb);}
return ret;};Writable.prototype.cork=function(){var state=this._writableState;state.corked++;};Writable.prototype.uncork=function(){var state=this._writableState;if(state.corked){state.corked--;if(!state.writing&&!state.corked&&!state.finished&&!state.bufferProcessing&&state.bufferedRequest)
clearBuffer(this,state);}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){if(typeof encoding==='string')
encoding=encoding.toLowerCase();if(!(['hex','utf8','utf-8','ascii','binary','base64','ucs2','ucs-2','utf16le','utf-16le','raw'].indexOf((encoding+'').toLowerCase())>-1))
throw new TypeError('Unknown encoding: '+encoding);this._writableState.defaultEncoding=encoding;};function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&typeof chunk==='string'){chunk=new Buffer(chunk,encoding);}
return chunk;}
function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding);if(Buffer.isBuffer(chunk))
encoding='buffer';var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)
state.needDrain=true;if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb);if(last){last.next=state.lastBufferedRequest;}else{state.bufferedRequest=state.lastBufferedRequest;}}else{doWrite(stream,state,false,len,chunk,encoding,cb);}
return ret;}
function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;if(writev)
stream._writev(chunk,state.onwrite);else
stream._write(chunk,encoding,state.onwrite);state.sync=false;}
function onwriteError(stream,state,sync,er,cb){--state.pendingcb;if(sync)
processNextTick(cb,er);else
cb(er);stream._writableState.errorEmitted=true;stream.emit('error',er);}
function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0;}
function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;onwriteStateUpdate(state);if(er)
onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);if(!finished&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest){clearBuffer(stream,state);}
if(sync){processNextTick(afterWrite,stream,state,finished,cb);}else{afterWrite(stream,state,finished,cb);}}}
function afterWrite(stream,state,finished,cb){if(!finished)
onwriteDrain(stream,state);state.pendingcb--;cb();finishMaybe(stream,state);}
function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit('drain');}}
function clearBuffer(stream,state){state.bufferProcessing=true;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var buffer=[];var cbs=[];while(entry){cbs.push(entry.callback);buffer.push(entry);entry=entry.next;}
state.pendingcb++;state.lastBufferedRequest=null;doWrite(stream,state,true,state.length,buffer,'',function(err){for(var i=0;i<cbs.length;i++){state.pendingcb--;cbs[i](err);}});}else{while(entry){var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,false,len,chunk,encoding,cb);entry=entry.next;if(state.writing){break;}}
if(entry===null)
state.lastBufferedRequest=null;}
state.bufferedRequest=entry;state.bufferProcessing=false;}
Writable.prototype._write=function(chunk,encoding,cb){cb(new Error('not implemented'));};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(typeof chunk==='function'){cb=chunk;chunk=null;encoding=null;}else if(typeof encoding==='function'){cb=encoding;encoding=null;}
if(chunk!==null&&chunk!==undefined)
this.write(chunk,encoding);if(state.corked){state.corked=1;this.uncork();}
if(!state.ending&&!state.finished)
endWritable(this,state,cb);};function needFinish(state){return(state.ending&&state.length===0&&state.bufferedRequest===null&&!state.finished&&!state.writing);}
function prefinish(stream,state){if(!state.prefinished){state.prefinished=true;stream.emit('prefinish');}}
function finishMaybe(stream,state){var need=needFinish(state);if(need){if(state.pendingcb===0){prefinish(stream,state);state.finished=true;stream.emit('finish');}else{prefinish(stream,state);}}
return need;}
function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)
processNextTick(cb);else
stream.once('finish',cb);}
state.ended=true;}},{"./_stream_duplex":25,"buffer":4,"core-util-is":7,"events":8,"inherits":11,"process-nextick-args":18,"util-deprecate":43}],30:[function(require,module,exports){module.exports=require("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":26}],31:[function(require,module,exports){var Stream=(function(){try{return require('st'+'ream');}catch(_){}}());exports=module.exports=require('./lib/_stream_readable.js');exports.Stream=Stream||exports;exports.Readable=exports;exports.Writable=require('./lib/_stream_writable.js');exports.Duplex=require('./lib/_stream_duplex.js');exports.Transform=require('./lib/_stream_transform.js');exports.PassThrough=require('./lib/_stream_passthrough.js');},{"./lib/_stream_duplex.js":25,"./lib/_stream_passthrough.js":26,"./lib/_stream_readable.js":27,"./lib/_stream_transform.js":28,"./lib/_stream_writable.js":29}],32:[function(require,module,exports){module.exports=require("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":28}],33:[function(require,module,exports){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":29}],34:[function(require,module,exports){module.exports=Stream;var EE=require('events').EventEmitter;var inherits=require('inherits');inherits(Stream,EE);Stream.Readable=require('readable-stream/readable.js');Stream.Writable=require('readable-stream/writable.js');Stream.Duplex=require('readable-stream/duplex.js');Stream.Transform=require('readable-stream/transform.js');Stream.PassThrough=require('readable-stream/passthrough.js');Stream.Stream=Stream;function Stream(){EE.call(this);}
Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){if(dest.writable){if(false===dest.write(chunk)&&source.pause){source.pause();}}}
source.on('data',ondata);function ondrain(){if(source.readable&&source.resume){source.resume();}}
dest.on('drain',ondrain);if(!dest._isStdio&&(!options||options.end!==false)){source.on('end',onend);source.on('close',onclose);}
var didOnEnd=false;function onend(){if(didOnEnd)return;didOnEnd=true;dest.end();}
function onclose(){if(didOnEnd)return;didOnEnd=true;if(typeof dest.destroy==='function')dest.destroy();}
function onerror(er){cleanup();if(EE.listenerCount(this,'error')===0){throw er;}}
source.on('error',onerror);dest.on('error',onerror);function cleanup(){source.removeListener('data',ondata);dest.removeListener('drain',ondrain);source.removeListener('end',onend);source.removeListener('close',onclose);source.removeListener('error',onerror);dest.removeListener('error',onerror);source.removeListener('end',cleanup);source.removeListener('close',cleanup);dest.removeListener('close',cleanup);}
source.on('end',cleanup);source.on('close',cleanup);dest.on('close',cleanup);dest.emit('pipe',source);return dest;};},{"events":8,"inherits":11,"readable-stream/duplex.js":24,"readable-stream/passthrough.js":30,"readable-stream/readable.js":31,"readable-stream/transform.js":32,"readable-stream/writable.js":33}],35:[function(require,module,exports){(function(global){var ClientRequest=require('./lib/request')
var extend=require('xtend')
var statusCodes=require('builtin-status-codes')
var url=require('url')
var http=exports
http.request=function(opts,cb){if(typeof opts==='string')
opts=url.parse(opts)
else
opts=extend(opts)
var defaultProtocol=global.location.protocol.search(/^https?:$/)===-1?'http:':''
var protocol=opts.protocol||defaultProtocol
var host=opts.hostname||opts.host
var port=opts.port
var path=opts.path||'/'
if(host&&host.indexOf(':')!==-1)
host='['+host+']'
opts.url=(host?(protocol+'//'+host):'')+(port?':'+port:'')+path
opts.method=(opts.method||'GET').toUpperCase()
opts.headers=opts.headers||{}
var req=new ClientRequest(opts)
if(cb)
req.on('response',cb)
return req}
http.get=function get(opts,cb){var req=http.request(opts,cb)
req.end()
return req}
http.Agent=function(){}
http.Agent.defaultMaxSockets=4
http.STATUS_CODES=statusCodes
http.METHODS=['CHECKOUT','CONNECT','COPY','DELETE','GET','HEAD','LOCK','M-SEARCH','MERGE','MKACTIVITY','MKCOL','MOVE','NOTIFY','OPTIONS','PATCH','POST','PROPFIND','PROPPATCH','PURGE','PUT','REPORT','SEARCH','SUBSCRIBE','TRACE','UNLOCK','UNSUBSCRIBE']}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./lib/request":37,"builtin-status-codes":6,"url":41,"xtend":44}],36:[function(require,module,exports){(function(global){exports.fetch=isFunction(global.fetch)&&isFunction(global.ReadableByteStream)
exports.blobConstructor=false
try{new Blob([new ArrayBuffer(1)])
exports.blobConstructor=true}catch(e){}
var xhr=new global.XMLHttpRequest()
xhr.open('GET',global.location.host?'/':'http://web.archive.org/web/20161112004120/https://example.com/')
function checkTypeSupport(type){try{xhr.responseType=type
return xhr.responseType===type}catch(e){}
return false}
var haveArrayBuffer=typeof global.ArrayBuffer!=='undefined'
var haveSlice=haveArrayBuffer&&isFunction(global.ArrayBuffer.prototype.slice)
exports.arraybuffer=haveArrayBuffer&&checkTypeSupport('arraybuffer')
exports.msstream=!exports.fetch&&haveSlice&&checkTypeSupport('ms-stream')
exports.mozchunkedarraybuffer=!exports.fetch&&haveArrayBuffer&&checkTypeSupport('moz-chunked-arraybuffer')
exports.overrideMimeType=isFunction(xhr.overrideMimeType)
exports.vbArray=isFunction(global.VBArray)
function isFunction(value){return typeof value==='function'}
xhr=null}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],37:[function(require,module,exports){(function(process,global,Buffer){var capability=require('./capability')
var inherits=require('inherits')
var response=require('./response')
var stream=require('stream')
var toArrayBuffer=require('to-arraybuffer')
var IncomingMessage=response.IncomingMessage
var rStates=response.readyStates
function decideMode(preferBinary){if(capability.fetch){return'fetch'}else if(capability.mozchunkedarraybuffer){return'moz-chunked-arraybuffer'}else if(capability.msstream){return'ms-stream'}else if(capability.arraybuffer&&preferBinary){return'arraybuffer'}else if(capability.vbArray&&preferBinary){return'text:vbarray'}else{return'text'}}
var ClientRequest=module.exports=function(opts){var self=this
stream.Writable.call(self)
self._opts=opts
self._body=[]
self._headers={}
if(opts.auth)
self.setHeader('Authorization','Basic '+new Buffer(opts.auth).toString('base64'))
Object.keys(opts.headers).forEach(function(name){self.setHeader(name,opts.headers[name])})
var preferBinary
if(opts.mode==='prefer-streaming'){preferBinary=false}else if(opts.mode==='allow-wrong-content-type'){preferBinary=!capability.overrideMimeType}else if(!opts.mode||opts.mode==='default'||opts.mode==='prefer-fast'){preferBinary=true}else{throw new Error('Invalid value for opts.mode')}
self._mode=decideMode(preferBinary)
self.on('finish',function(){self._onFinish()})}
inherits(ClientRequest,stream.Writable)
ClientRequest.prototype.setHeader=function(name,value){var self=this
var lowerName=name.toLowerCase()
if(unsafeHeaders.indexOf(lowerName)!==-1)
return
self._headers[lowerName]={name:name,value:value}}
ClientRequest.prototype.getHeader=function(name){var self=this
return self._headers[name.toLowerCase()].value}
ClientRequest.prototype.removeHeader=function(name){var self=this
delete self._headers[name.toLowerCase()]}
ClientRequest.prototype._onFinish=function(){var self=this
if(self._destroyed)
return
var opts=self._opts
var headersObj=self._headers
var body
if(opts.method==='POST'||opts.method==='PUT'||opts.method==='PATCH'){if(capability.blobConstructor){body=new global.Blob(self._body.map(function(buffer){return toArrayBuffer(buffer)}),{type:(headersObj['content-type']||{}).value||''})}else{body=Buffer.concat(self._body).toString()}}
if(self._mode==='fetch'){var headers=Object.keys(headersObj).map(function(name){return[headersObj[name].name,headersObj[name].value]})
global.fetch(self._opts.url,{method:self._opts.method,headers:headers,body:body,mode:'cors',credentials:opts.withCredentials?'include':'same-origin'}).then(function(response){self._fetchResponse=response
self._connect()},function(reason){self.emit('error',reason)})}else{var xhr=self._xhr=new global.XMLHttpRequest()
try{xhr.open(self._opts.method,self._opts.url,true)}catch(err){process.nextTick(function(){self.emit('error',err)})
return}
if('responseType'in xhr)
xhr.responseType=self._mode.split(':')[0]
if('withCredentials'in xhr)
xhr.withCredentials=!!opts.withCredentials
if(self._mode==='text'&&'overrideMimeType'in xhr)
xhr.overrideMimeType('text/plain; charset=x-user-defined')
Object.keys(headersObj).forEach(function(name){xhr.setRequestHeader(headersObj[name].name,headersObj[name].value)})
self._response=null
xhr.onreadystatechange=function(){switch(xhr.readyState){case rStates.LOADING:case rStates.DONE:self._onXHRProgress()
break}}
if(self._mode==='moz-chunked-arraybuffer'){xhr.onprogress=function(){self._onXHRProgress()}}
xhr.onerror=function(){if(self._destroyed)
return
self.emit('error',new Error('XHR error'))}
try{xhr.send(body)}catch(err){process.nextTick(function(){self.emit('error',err)})
return}}}
function statusValid(xhr){try{var status=xhr.status
return(status!==null&&status!==0)}catch(e){return false}}
ClientRequest.prototype._onXHRProgress=function(){var self=this
if(!statusValid(self._xhr)||self._destroyed)
return
if(!self._response)
self._connect()
self._response._onXHRProgress()}
ClientRequest.prototype._connect=function(){var self=this
if(self._destroyed)
return
self._response=new IncomingMessage(self._xhr,self._fetchResponse,self._mode)
self.emit('response',self._response)}
ClientRequest.prototype._write=function(chunk,encoding,cb){var self=this
self._body.push(chunk)
cb()}
ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(){var self=this
self._destroyed=true
if(self._response)
self._response._destroyed=true
if(self._xhr)
self._xhr.abort()}
ClientRequest.prototype.end=function(data,encoding,cb){var self=this
if(typeof data==='function'){cb=data
data=undefined}
stream.Writable.prototype.end.call(self,data,encoding,cb)}
ClientRequest.prototype.flushHeaders=function(){}
ClientRequest.prototype.setTimeout=function(){}
ClientRequest.prototype.setNoDelay=function(){}
ClientRequest.prototype.setSocketKeepAlive=function(){}
var unsafeHeaders=['accept-charset','accept-encoding','access-control-request-headers','access-control-request-method','connection','content-length','cookie','cookie2','date','dnt','expect','host','keep-alive','origin','referer','te','trailer','transfer-encoding','upgrade','user-agent','via']}).call(this,require('_process'),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("buffer").Buffer)},{"./capability":36,"./response":38,"_process":19,"buffer":4,"inherits":11,"stream":34,"to-arraybuffer":40}],38:[function(require,module,exports){(function(process,global,Buffer){var capability=require('./capability')
var inherits=require('inherits')
var stream=require('stream')
var rStates=exports.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4}
var IncomingMessage=exports.IncomingMessage=function(xhr,response,mode){var self=this
stream.Readable.call(self)
self._mode=mode
self.headers={}
self.rawHeaders=[]
self.trailers={}
self.rawTrailers=[]
self.on('end',function(){process.nextTick(function(){self.emit('close')})})
if(mode==='fetch'){self._fetchResponse=response
self.statusCode=response.status
self.statusMessage=response.statusText
for(var header,_i,_it=response.headers[Symbol.iterator]();header=(_i=_it.next()).value,!_i.done;){self.headers[header[0].toLowerCase()]=header[1]
self.rawHeaders.push(header[0],header[1])}
var reader=response.body.getReader()
function read(){reader.read().then(function(result){if(self._destroyed)
return
if(result.done){self.push(null)
return}
self.push(new Buffer(result.value))
read()})}
read()}else{self._xhr=xhr
self._pos=0
self.statusCode=xhr.status
self.statusMessage=xhr.statusText
var headers=xhr.getAllResponseHeaders().split(/\r?\n/)
headers.forEach(function(header){var matches=header.match(/^([^:]+):\s*(.*)/)
if(matches){var key=matches[1].toLowerCase()
if(self.headers[key]!==undefined)
self.headers[key]+=', '+matches[2]
else
self.headers[key]=matches[2]
self.rawHeaders.push(matches[1],matches[2])}})
self._charset='x-user-defined'
if(!capability.overrideMimeType){var mimeType=self.rawHeaders['mime-type']
if(mimeType){var charsetMatch=mimeType.match(/;\s*charset=([^;])(;|$)/)
if(charsetMatch){self._charset=charsetMatch[1].toLowerCase()}}
if(!self._charset)
self._charset='utf-8'}}}
inherits(IncomingMessage,stream.Readable)
IncomingMessage.prototype._read=function(){}
IncomingMessage.prototype._onXHRProgress=function(){var self=this
var xhr=self._xhr
var response=null
switch(self._mode){case'text:vbarray':if(xhr.readyState!==rStates.DONE)
break
try{response=new global.VBArray(xhr.responseBody).toArray()}catch(e){}
if(response!==null){self.push(new Buffer(response))
break}
case'text':try{response=xhr.responseText}catch(e){self._mode='text:vbarray'
break}
if(response.length>self._pos){var newData=response.substr(self._pos)
if(self._charset==='x-user-defined'){var buffer=new Buffer(newData.length)
for(var i=0;i<newData.length;i++)
buffer[i]=newData.charCodeAt(i)&0xff
self.push(buffer)}else{self.push(newData,self._charset)}
self._pos=response.length}
break
case'arraybuffer':if(xhr.readyState!==rStates.DONE)
break
response=xhr.response
self.push(new Buffer(new Uint8Array(response)))
break
case'moz-chunked-arraybuffer':response=xhr.response
if(xhr.readyState!==rStates.LOADING||!response)
break
self.push(new Buffer(new Uint8Array(response)))
break
case'ms-stream':response=xhr.response
if(xhr.readyState!==rStates.LOADING)
break
var reader=new global.MSStreamReader()
reader.onprogress=function(){if(reader.result.byteLength>self._pos){self.push(new Buffer(new Uint8Array(reader.result.slice(self._pos))))
self._pos=reader.result.byteLength}}
reader.onload=function(){self.push(null)}
reader.readAsArrayBuffer(response)
break}
if(self._xhr.readyState===rStates.DONE&&self._mode!=='ms-stream'){self.push(null)}}}).call(this,require('_process'),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("buffer").Buffer)},{"./capability":36,"_process":19,"buffer":4,"inherits":11,"stream":34}],39:[function(require,module,exports){var Buffer=require('buffer').Buffer;var isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':case'raw':return true;default:return false;}}
function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding)){throw new Error('Unknown encoding: '+encoding);}}
var StringDecoder=exports.StringDecoder=function(encoding){this.encoding=(encoding||'utf8').toLowerCase().replace(/[-_]/,'');assertEncoding(encoding);switch(this.encoding){case'utf8':this.surrogateSize=3;break;case'ucs2':case'utf16le':this.surrogateSize=2;this.detectIncompleteChar=utf16DetectIncompleteChar;break;case'base64':this.surrogateSize=3;this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return;}
this.charBuffer=new Buffer(6);this.charReceived=0;this.charLength=0;};StringDecoder.prototype.write=function(buffer){var charStr='';while(this.charLength){var available=(buffer.length>=this.charLength-this.charReceived)?this.charLength-this.charReceived:buffer.length;buffer.copy(this.charBuffer,this.charReceived,0,available);this.charReceived+=available;if(this.charReceived<this.charLength){return'';}
buffer=buffer.slice(available,buffer.length);charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var charCode=charStr.charCodeAt(charStr.length-1);if(charCode>=0xD800&&charCode<=0xDBFF){this.charLength+=this.surrogateSize;charStr='';continue;}
this.charReceived=this.charLength=0;if(buffer.length===0){return charStr;}
break;}
this.detectIncompleteChar(buffer);var end=buffer.length;if(this.charLength){buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end);end-=this.charReceived;}
charStr+=buffer.toString(this.encoding,0,end);var end=charStr.length-1;var charCode=charStr.charCodeAt(end);if(charCode>=0xD800&&charCode<=0xDBFF){var size=this.surrogateSize;this.charLength+=size;this.charReceived+=size;this.charBuffer.copy(this.charBuffer,size,0,size);buffer.copy(this.charBuffer,0,0,size);return charStr.substring(0,end);}
return charStr;};StringDecoder.prototype.detectIncompleteChar=function(buffer){var i=(buffer.length>=3)?3:buffer.length;for(;i>0;i--){var c=buffer[buffer.length-i];if(i==1&&c>>5==0x06){this.charLength=2;break;}
if(i<=2&&c>>4==0x0E){this.charLength=3;break;}
if(i<=3&&c>>3==0x1E){this.charLength=4;break;}}
this.charReceived=i;};StringDecoder.prototype.end=function(buffer){var res='';if(buffer&&buffer.length)
res=this.write(buffer);if(this.charReceived){var cr=this.charReceived;var buf=this.charBuffer;var enc=this.encoding;res+=buf.slice(0,cr).toString(enc);}
return res;};function passThroughWrite(buffer){return buffer.toString(this.encoding);}
function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2;this.charLength=this.charReceived?2:0;}
function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3;this.charLength=this.charReceived?3:0;}},{"buffer":4}],40:[function(require,module,exports){var Buffer=require('buffer').Buffer
module.exports=function(buf){if(buf instanceof Uint8Array){if(buf.byteOffset===0&&buf.byteLength===buf.buffer.byteLength){return buf.buffer}else if(typeof buf.buffer.slice==='function'){return buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength)}}
if(Buffer.isBuffer(buf)){var arrayCopy=new Uint8Array(buf.length)
var len=buf.length
for(var i=0;i<len;i++){arrayCopy[i]=buf[i]}
return arrayCopy.buffer}else{throw new Error('Argument must be a Buffer')}}},{"buffer":4}],41:[function(require,module,exports){'use strict';var punycode=require('punycode');var util=require('./util');exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null;}
var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=['<','>','"','`',' ','\r','\n','\t'],unwise=['{','}','|','\\','^','`'].concat(delims),autoEscape=['\''].concat(unwise),nonHostChars=['%','/','?',';','#'].concat(autoEscape),hostEndingChars=['/','?','#'],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={'javascript':true,'javascript:':true},hostlessProtocol={'javascript':true,'javascript:':true},slashedProtocol={'http':true,'https':true,'ftp':true,'gopher':true,'file':true,'http:':true,'https:':true,'ftp:':true,'gopher:':true,'file:':true},querystring=require('querystring');function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u;}
Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url);}
var queryIndex=url.indexOf('?'),splitter=(queryIndex!==-1&&queryIndex<url.indexOf('#'))?'?':'#',uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,'/');url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split('#').length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1));}else{this.query=this.search.substr(1);}}else if(parseQueryString){this.search='';this.query={};}
return this;}}
var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length);}
if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==='//';if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true;}}
if(!hostlessProtocol[proto]&&(slashes||(proto&&!slashedProtocol[proto]))){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))
hostEnd=hec;}
var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf('@');}else{atSign=rest.lastIndexOf('@',hostEnd);}
if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth);}
hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))
hostEnd=hec;}
if(hostEnd===-1)
hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||'';var ipv6Hostname=this.hostname[0]==='['&&this.hostname[this.hostname.length-1]===']';if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart='';for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+='x';}else{newpart+=part[j];}}
if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2]);}
if(notHost.length){rest='/'+notHost.join('.')+rest;}
this.hostname=validParts.join('.');break;}}}}
if(this.hostname.length>hostnameMaxLen){this.hostname='';}else{this.hostname=this.hostname.toLowerCase();}
if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname);}
var p=this.port?':'+this.port:'';var h=this.hostname||'';this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=='/'){rest='/'+rest;}}}
if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)
continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae);}
rest=rest.split(ae).join(esc);}}
var hash=rest.indexOf('#');if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash);}
var qm=rest.indexOf('?');if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query);}
rest=rest.slice(0,qm);}else if(parseQueryString){this.search='';this.query={};}
if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname='/';}
if(this.pathname||this.search){var p=this.pathname||'';var s=this.search||'';this.path=p+s;}
this.href=this.format();return this;};function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format();}
Url.prototype.format=function(){var auth=this.auth||'';if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,':');auth+='@';}
var protocol=this.protocol||'',pathname=this.pathname||'',hash=this.hash||'',host=false,query='';if(this.host){host=auth+this.host;}else if(this.hostname){host=auth+(this.hostname.indexOf(':')===-1?this.hostname:'['+this.hostname+']');if(this.port){host+=':'+this.port;}}
if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query);}
var search=this.search||(query&&('?'+query))||'';if(protocol&&protocol.substr(-1)!==':')protocol+=':';if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host='//'+(host||'');if(pathname&&pathname.charAt(0)!=='/')pathname='/'+pathname;}else if(!host){host='';}
if(hash&&hash.charAt(0)!=='#')hash='#'+hash;if(search&&search.charAt(0)!=='?')search='?'+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match);});search=search.replace('#','%23');return protocol+host+pathname+search+hash;};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative);}
Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format();};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative);}
Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url();rel.parse(relative,false,true);relative=rel;}
var result=new Url();var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey];}
result.hash=relative.hash;if(relative.href===''){result.href=result.format();return result;}
if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=='protocol')
result[rkey]=relative[rkey];}
if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname='/';}
result.href=result.format();return result;}
if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k];}
result.href=result.format();return result;}
result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||'').split('/');while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host='';if(!relative.hostname)relative.hostname='';if(relPath[0]!=='')relPath.unshift('');if(relPath.length<2)relPath.unshift('');result.pathname=relPath.join('/');}else{result.pathname=relative.pathname;}
result.search=relative.search;result.query=relative.query;result.host=relative.host||'';result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||'';var s=result.search||'';result.path=p+s;}
result.slashes=result.slashes||relative.slashes;result.href=result.format();return result;}
var isSourceAbs=(result.pathname&&result.pathname.charAt(0)==='/'),isRelAbs=(relative.host||relative.pathname&&relative.pathname.charAt(0)==='/'),mustEndAbs=(isRelAbs||isSourceAbs||(result.host&&relative.pathname)),removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split('/')||[],relPath=relative.pathname&&relative.pathname.split('/')||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname='';result.port=null;if(result.host){if(srcPath[0]==='')srcPath[0]=result.host;else srcPath.unshift(result.host);}
result.host='';if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==='')relPath[0]=relative.host;else relPath.unshift(relative.host);}
relative.host=null;}
mustEndAbs=mustEndAbs&&(relPath[0]===''||srcPath[0]==='');}
if(isRelAbs){result.host=(relative.host||relative.host==='')?relative.host:result.host;result.hostname=(relative.hostname||relative.hostname==='')?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath;}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query;}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf('@')>0?result.host.split('@'):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift();}}
result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:'')+
(result.search?result.search:'');}
result.href=result.format();return result;}
if(!srcPath.length){result.pathname=null;if(result.search){result.path='/'+result.search;}else{result.path=null;}
result.href=result.format();return result;}
var last=srcPath.slice(-1)[0];var hasTrailingSlash=((result.host||relative.host||srcPath.length>1)&&(last==='.'||last==='..')||last==='');var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==='.'){srcPath.splice(i,1);}else if(last==='..'){srcPath.splice(i,1);up++;}else if(up){srcPath.splice(i,1);up--;}}
if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift('..');}}
if(mustEndAbs&&srcPath[0]!==''&&(!srcPath[0]||srcPath[0].charAt(0)!=='/')){srcPath.unshift('');}
if(hasTrailingSlash&&(srcPath.join('/').substr(-1)!=='/')){srcPath.push('');}
var isAbsolute=srcPath[0]===''||(srcPath[0]&&srcPath[0].charAt(0)==='/');if(psychotic){result.hostname=result.host=isAbsolute?'':srcPath.length?srcPath.shift():'';var authInHost=result.host&&result.host.indexOf('@')>0?result.host.split('@'):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift();}}
mustEndAbs=mustEndAbs||(result.host&&srcPath.length);if(mustEndAbs&&!isAbsolute){srcPath.unshift('');}
if(!srcPath.length){result.pathname=null;result.path=null;}else{result.pathname=srcPath.join('/');}
if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:'')+
(result.search?result.search:'');}
result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result;};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==':'){this.port=port.substr(1);}
host=host.substr(0,host.length-port.length);}
if(host)this.hostname=host;};},{"./util":42,"punycode":20,"querystring":23}],42:[function(require,module,exports){'use strict';module.exports={isString:function(arg){return typeof(arg)==='string';},isObject:function(arg){return typeof(arg)==='object'&&arg!==null;},isNull:function(arg){return arg===null;},isNullOrUndefined:function(arg){return arg==null;}};},{}],43:[function(require,module,exports){(function(global){module.exports=deprecate;function deprecate(fn,msg){if(config('noDeprecation')){return fn;}
var warned=false;function deprecated(){if(!warned){if(config('throwDeprecation')){throw new Error(msg);}else if(config('traceDeprecation')){console.trace(msg);}else{console.warn(msg);}
warned=true;}
return fn.apply(this,arguments);}
return deprecated;}
function config(name){try{if(!global.localStorage)return false;}catch(_){return false;}
var val=global.localStorage[name];if(null==val)return false;return String(val).toLowerCase()==='true';}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],44:[function(require,module,exports){module.exports=extend
var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var target={}
for(var i=0;i<arguments.length;i++){var source=arguments[i]
for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}
return target}},{}]},{},[1])(1)});var app={};app.boot=function(){$('.sharebuttons').attr('data-title','California: How did your neighborhood vote?');var fullNames={clinton:"Hillary Clinton",trump:"Donald Trump",johnson:"Gary Johnson",stein:"Jill Stein",lariva:"Gloria La Riva",other:"a write-in candidate"};function getAllUrlParams(url){var queryString=url?url.split('?')[1]:window.location.search.slice(1);var obj={};if(queryString){queryString=queryString.split('#')[0];var arr=queryString.split('&');for(var i=0;i<arr.length;i++){var a=arr[i].split('=');var paramNum=undefined;var paramName=a[0].replace(/\[\d*\]/,function(v){paramNum=v.slice(1,-1);return'';});var paramValue=typeof(a[1])==='undefined'?true:a[1];paramName=paramName.toLowerCase();if(obj[paramName]){if(typeof obj[paramName]==='string'){obj[paramName]=[obj[paramName]];}
if(typeof paramNum==='undefined'){obj[paramName].push(paramValue);}
else{obj[paramName][paramNum]=paramValue;}}
else{obj[paramName]=paramValue;}}}
return obj;}
function isNumeric(val){if(typeof val==='number'&&!isNaN(val)){return true;}
val=(val||'').toString().trim();return val&&!isNaN(val);}
function commafy(val){if(typeof val==='undefined'||val===null){val='';}
val=val.toString();if(!isNumeric(val)){return val;}
var parts=val.split('.');parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,',');return parts.join('.');}
var dataCounties=['037','059','067','071','073','075','081','085','091'];var currentRaceData={};var currentPrecinct;var isCounty=false;var countyAppend=""
if(dataCounties.length>0){for(var i=0;i<dataCounties.length;i++){countyAppend+="#all_precinct_shapes_5 [zoom <= 7]{ \
                                        [ countyfp10 = '"+dataCounties[i]+"'] { \
                                            polygon-opacity: 1; \
                                        }\
                                    } \
                                    #all_precinct_shapes_5 [zoom > 7]{ \
                                        [ countyfp10 = '"+dataCounties[i]+"'] { \
                                            polygon-opacity: 0; \
                                        }\
                                    } \
                                    ";}}
$("#mainselect").select2({minimumResultsForSearch:Infinity});$('.select2').addClass('big-arrow');$("#countyselector").select2();$("#mainselect").on('change',function(){if(typeof(currentPrecinct)!=='undefined'){var selectedResult=$(this).find("option:selected").text();$('.picked').html(selectedResult);document.getElementById("mainselect").blur();$('.featured-race .candidate-result').empty();doRobotext();}});var map=L.map('precinct-map',{zoomControl:false,minZoom:6,maxZoom:16,zoomControl:true}).setView([34.018032,-118.395215],10);map.scrollWheelZoom.disable();var baseLayer=L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',{attribution:'&copy; <a href="http://web.archive.org/web/20161112004120/http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://web.archive.org/web/20161112004120/https://carto.com/attributions">CARTO</a>',opacity:0.7,detectRetina:false});map.addLayer(baseLayer);var freewayStyle="#ca_freeways_simplified{ \
            line-color: #FFFFFF; \
            line-width: 3; \
            line-opacity: 0.3; \
            [zoom < 10] { \
                line-opacity: 0; \
            } \
            [zoom >= 12] { \
                line-opacity: 0.5; \
            } \
            [zoom >= 14] { \
                line-opacity: 0; \
            } \
        }";var presStyle="#all_precinct_shapes_5 { \
            polygon-fill: #ccc; \
            polygon-opacity: 0.25; \
            line-color: #eee; \
            line-width: .5; \
            line-opacity: 0; \
            [votedensity > 100] { \
                polygon-opacity: 0.5; \
            } \
            [votedensity > 1000] { \
                polygon-opacity: 0.75; \
            } \
            [votedensity > 2000] { \
                polygon-opacity: 1; \
            } \
            [zoom >= 13] { \
                polygon-opacity: 0.1; \
                [votedensity > 100] { \
                    polygon-opacity: 0.2; \
                } \
                [votedensity > 1000] { \
                    polygon-opacity: 0.3; \
                } \
                [votedensity > 2000] { \
                    polygon-opacity: .4; \
                } \
            } \
        } \
        #all_precinct_shapes_5 [pres_winner = 'trump'] { \
            polygon-fill: #F7D7D9; \
            [pres_margin > 5] { \
                polygon-fill: #E99397; \
            } \
            [pres_margin > 10] { \
                polygon-fill: #DC4E54; \
            } \
        } \
        #all_precinct_shapes_5 [ pres_winner = 'clinton'] { \
            polygon-fill: #CAE2F1; \
            [pres_margin > 5] { \
                polygon-fill: #65AED8; \
            } \
            [pres_margin > 10] { \
                polygon-fill: #007ABF; \
            } \
        } \
        #all_precinct_shapes_5 [ zoom <= 7] { \
            polygon-opacity:0;\
        } \
        ";var countyStyle="#all_precinct_shapes_5 { \
            polygon-fill: #ccc; \
            polygon-opacity: 0.4; \
            line-color: #fff; \
            line-width: 1; \
            line-opacity: .5; \
            [zoom < 7] { \
                line-width: 0.5; \
            } \
            [zoom >= 10] { \
                line-color: #ccc; \
                line-width: 2; \
            } \
        } \
        #all_precinct_shapes_5 [pres_winner = 'trump'] { \
               polygon-fill: #E26769; \
        } \
        #all_precinct_shapes_5 [ pres_winner = 'clinton'] { \
                polygon-fill: #97BDED; \
        } \
        "+countyAppend;function createPropCSS(prop){var propNoVotes=prop.replace('_yes_per','_no');return"#all_precinct_shapes_5{ \
                polygon-fill: #ccc; \
                polygon-opacity: .25; \
                line-color: #FFF; \
                line-width: 0; \
                line-opacity: 1; \
                [votedensity > 100] { \
                    polygon-opacity: 0.5; \
                } \
                [votedensity > 1000] { \
                    polygon-opacity: 0.75; \
                } \
                [votedensity > 2000] { \
                    polygon-opacity: 1; \
                } \
                [zoom >= 13] { \
                    polygon-opacity: 0.1; \
                    [votedensity > 100] { \
                        polygon-opacity: 0.2; \
                    } \
                    [votedensity > 1000] { \
                        polygon-opacity: 0.3; \
                    } \
                    [votedensity > 2000] { \
                        polygon-opacity: .4; \
                    } \
                } \
            } \
                \
            #all_precinct_shapes_5 [ "+prop+" <= 100] { \
                polygon-fill: #379365; \
            } \
            #all_precinct_shapes_5 [ "+prop+" < 80] { \
                polygon-fill: #5eaa81; \
            } \
            #all_precinct_shapes_5 [ "+prop+" < 65] { \
                polygon-fill: #84c19d; \
            } \
            \
            #all_precinct_shapes_5 [ "+prop+" < 50] { \
                polygon-fill: #f9dd9d; \
            } \
            #all_precinct_shapes_5 [ "+prop+" < 35] { \
                polygon-fill: #ddae75; \
            } \
            #all_precinct_shapes_5 [ "+prop+" < 15] { \
                polygon-fill: #c17e4d; \
                ["+propNoVotes+" = 0] { \
                    polygon-fill: #ccc; \
                    polygon-opacity: 0; \
                } \
            }";}
function countyPropStyle(prop){return"#all_precinct_shapes_5 { \
                polygon-fill: #ddae75; \
                polygon-opacity: 0.4; \
                line-color: #fff; \
                line-width: 1; \
                line-opacity: .5; \
                [zoom < 7] { \
                    line-width: 0.5; \
                } \
                [zoom >= 10] { \
                    line-color: #ccc; \
                    line-width: 2; \
                } \
                #all_precinct_shapes_5 [ "+prop+" > 0.5] { \
                       polygon-fill: #5eaa81; \
                } \
                }"+countyAppend;}
var precinctSelected={fillColor:"#ccc",fillOpacity:0,color:"#000",weight:2,opacity:1,className:"selected_object",clickable:false}
var precinctHover={fillColor:"#ccc",fillOpacity:0,color:"#7b7b7b",weight:1,opacity:1,className:"hover_object",clickable:false}
var precincts=cartodb.createLayer(map,{user_name:'latimes',type:'cartodb',cartodb_logo:false,minZoom:6,maxZoom:16,sublayers:[{sql:"SELECT ST_ASGEOJSON(california_counties.the_geom) AS geometry, california_counties.the_geom_webmercator, california_counties.countyfp10, california_counties.countyname, california_2016_county_results.pres_clinton, california_2016_county_results.pres_johnson, california_2016_county_results.pres_lariva, california_2016_county_results.pres_stein, california_2016_county_results.pres_trump, california_2016_county_results.pres_other, california_2016_county_results.pres_clinton_per, california_2016_county_results.pres_trump_per, california_2016_county_results.pres_winner, california_2016_county_results.ussenate_harris, california_2016_county_results.ussenate_sanchez, california_2016_county_results.prop51_yes, california_2016_county_results.prop51_no, california_2016_county_results.prop51_per,  california_2016_county_results.prop52_yes, california_2016_county_results.prop52_no, california_2016_county_results.prop52_per,  california_2016_county_results.prop53_yes, california_2016_county_results.prop53_no, california_2016_county_results.prop53_per,  california_2016_county_results.prop54_yes, california_2016_county_results.prop54_no, california_2016_county_results.prop54_per,  california_2016_county_results.prop55_yes, california_2016_county_results.prop55_no, california_2016_county_results.prop55_per,  california_2016_county_results.prop56_yes, california_2016_county_results.prop56_no, california_2016_county_results.prop56_per,  california_2016_county_results.prop57_yes, california_2016_county_results.prop57_no, california_2016_county_results.prop57_per,  california_2016_county_results.prop58_yes, california_2016_county_results.prop58_no, california_2016_county_results.prop58_per,  california_2016_county_results.prop59_yes, california_2016_county_results.prop59_no, california_2016_county_results.prop59_per,  california_2016_county_results.prop60_yes, california_2016_county_results.prop60_no, california_2016_county_results.prop60_per,  california_2016_county_results.prop61_yes, california_2016_county_results.prop61_no, california_2016_county_results.prop61_per,  california_2016_county_results.prop62_yes, california_2016_county_results.prop62_no, california_2016_county_results.prop62_per,  california_2016_county_results.prop63_yes, california_2016_county_results.prop63_no, california_2016_county_results.prop63_per,  california_2016_county_results.prop64_yes, california_2016_county_results.prop64_no, california_2016_county_results.prop64_per,  california_2016_county_results.prop65_yes, california_2016_county_results.prop65_no, california_2016_county_results.prop65_per,  california_2016_county_results.prop66_yes, california_2016_county_results.prop66_no, california_2016_county_results.prop66_per,  california_2016_county_results.prop67_yes, california_2016_county_results.prop67_no, california_2016_county_results.prop67_per FROM california_counties, california_2016_county_results WHERE california_counties.countyfp10 = california_2016_county_results.countyfp10",cartocss:countyStyle,interactivity:"countyfp10,geometry, countyname, pres_clinton, pres_johnson, pres_lariva, pres_stein, pres_trump, pres_other, ussenate_harris, ussenate_sanchez, prop51_yes, prop51_no, prop52_yes, prop52_no, prop53_yes, prop53_no, prop54_yes, prop54_no, prop55_yes, prop55_no, prop56_yes, prop56_no, prop57_yes, prop57_no, prop58_yes, prop58_no, prop59_yes, prop59_no, prop60_yes, prop60_no, prop61_yes, prop61_no, prop62_yes, prop62_no, prop63_yes, prop63_no, prop64_yes, prop64_no, prop65_yes, prop65_no, prop66_yes, prop66_no, prop67_yes, prop67_no"},{sql:"SELECT ST_ASGEOJSON(all_precinct_shapes_5.the_geom) AS geometry, all_precinct_shapes_5.pct16, all_precinct_shapes_5.the_geom_webmercator, all_precinct_results_5.pres_clinton, all_precinct_results_5.pres_trump, all_precinct_results_5.pres_johnson, all_precinct_results_5.pres_stein, all_precinct_results_5.pres_lariva, all_precinct_results_5.pres_other, all_precinct_results_5.ussenate_harris, all_precinct_results_5.ussenate_sanchez, all_precinct_results_5.prop51_yes, all_precinct_results_5.prop51_no, all_precinct_results_5.prop52_yes, all_precinct_results_5.prop52_no, all_precinct_results_5.prop53_yes, all_precinct_results_5.prop53_no, all_precinct_results_5.prop54_yes, all_precinct_results_5.prop54_no, all_precinct_results_5.prop55_yes, all_precinct_results_5.prop55_no, all_precinct_results_5.prop56_yes, all_precinct_results_5.prop56_no, all_precinct_results_5.prop57_yes, all_precinct_results_5.prop57_no, all_precinct_results_5.prop58_yes, all_precinct_results_5.prop58_no, all_precinct_results_5.prop59_yes, all_precinct_results_5.prop59_no, all_precinct_results_5.prop60_yes, all_precinct_results_5.prop60_no, all_precinct_results_5.prop61_yes, all_precinct_results_5.prop61_no, all_precinct_results_5.prop62_yes, all_precinct_results_5.prop62_no, all_precinct_results_5.prop63_yes, all_precinct_results_5.prop63_no, all_precinct_results_5.prop64_yes, all_precinct_results_5.prop64_no, all_precinct_results_5.prop65_yes, all_precinct_results_5.prop65_no, all_precinct_results_5.prop66_yes, all_precinct_results_5.prop66_no, all_precinct_results_5.prop67_yes, all_precinct_results_5.prop67_no, all_precinct_results_5.pres_clinton_per, all_precinct_results_5.pres_trump_per, all_precinct_results_5.pres_third_per, all_precinct_results_5.pres_winner, all_precinct_results_5.pres_margin, all_precinct_results_5.votedensity, all_precinct_results_5.prop51_yes_per, all_precinct_results_5.prop51_no_per, all_precinct_results_5.prop52_yes_per, all_precinct_results_5.prop52_no_per, all_precinct_results_5.prop53_yes_per, all_precinct_results_5.prop53_no_per, all_precinct_results_5.prop54_yes_per, all_precinct_results_5.prop54_no_per, all_precinct_results_5.prop55_yes_per, all_precinct_results_5.prop55_no_per, all_precinct_results_5.prop56_yes_per, all_precinct_results_5.prop56_no_per, all_precinct_results_5.prop57_yes_per, all_precinct_results_5.prop57_no_per, all_precinct_results_5.prop58_yes_per, all_precinct_results_5.prop58_no_per, all_precinct_results_5.prop59_yes_per, all_precinct_results_5.prop59_no_per, all_precinct_results_5.prop60_yes_per, all_precinct_results_5.prop60_no_per, all_precinct_results_5.prop61_yes_per, all_precinct_results_5.prop61_no_per, all_precinct_results_5.prop62_yes_per, all_precinct_results_5.prop62_no_per, all_precinct_results_5.prop63_yes_per, all_precinct_results_5.prop63_no_per, all_precinct_results_5.prop64_yes_per, all_precinct_results_5.prop64_no_per, all_precinct_results_5.prop65_yes_per, all_precinct_results_5.prop65_no_per, all_precinct_results_5.prop66_yes_per, all_precinct_results_5.prop66_no_per, all_precinct_results_5.prop67_yes_per, all_precinct_results_5.prop67_no_per FROM all_precinct_shapes_5, all_precinct_results_5 WHERE all_precinct_shapes_5.pct16 = all_precinct_results_5.pct16",cartocss:presStyle,interactivity:"pct16, pres_clinton, pres_johnson, pres_lariva, pres_stein, pres_trump, pres_other, ussenate_harris, ussenate_sanchez, prop51_yes, prop51_no, prop52_yes, prop52_no, prop53_yes, prop53_no, prop54_yes, prop54_no, prop55_yes, prop55_no, prop56_yes, prop56_no, prop57_yes, prop57_no, prop58_yes, prop58_no, prop59_yes, prop59_no, prop60_yes, prop60_no, prop61_yes, prop61_no, prop62_yes, prop62_no, prop63_yes, prop63_no, prop64_yes, prop64_no, prop65_yes, prop65_no, prop66_yes, prop66_no, prop67_yes, prop67_no, geometry"},{sql:"SELECT * FROM ca_freeways_simplified",cartocss:freewayStyle,}]}).addTo(map).done(function(layer){map.on('zoomend',function(){if(map.getZoom()>7){layer.getSubLayer(1).show();}
if(map.getZoom()<=7)
{layer.getSubLayer(1).hide();}});layer.getSubLayer(1).setInteraction(true);$("#mainselect").on('change',function(){if(mapMarkers.locator){map.removeLayer(mapMarkers.locator);}
var selVal=$("#mainselect").val();if(selVal.indexOf("prop")!=-1){var propsupp=selVal.replace('-','_').replace('no','yes');var countypropsupp=selVal.split('-')[0];layer.getSubLayer(1).setCartoCSS(createPropCSS(propsupp+"_per"));layer.getSubLayer(0).setCartoCSS(countyPropStyle(countypropsupp+"_per"));$('#map-legend').attr('src','/projects/la-pol-ca-california-neighborhood-election-results/static/prop-legend.png');}else if(selVal.indexOf("pres")!=-1){layer.getSubLayer(1).setCartoCSS(presStyle);layer.getSubLayer(0).setCartoCSS(countyStyle);$('#map-legend').attr('src','/projects/la-pol-ca-california-neighborhood-election-results/static/president-legend.png');}});$("#countyselector").on('change',function(){$(".selected_object").parent().remove();if(mapMarkers.locator){map.removeLayer(mapMarkers.locator);}
var selVal=$(this).val();var county_sql="SELECT ST_ASGEOJSON(california_counties.the_geom) AS geometry, california_counties.countyfp10, california_counties.countyname, california_2016_county_results.pres_clinton, california_2016_county_results.pres_johnson, california_2016_county_results.pres_lariva, california_2016_county_results.pres_stein, california_2016_county_results.pres_trump, california_2016_county_results.pres_other, california_2016_county_results.ussenate_harris, california_2016_county_results.ussenate_sanchez, california_2016_county_results.prop51_yes, california_2016_county_results.prop51_no, california_2016_county_results.prop52_yes, california_2016_county_results.prop52_no, california_2016_county_results.prop53_yes, california_2016_county_results.prop53_no, california_2016_county_results.prop54_yes, california_2016_county_results.prop54_no, california_2016_county_results.prop55_yes, california_2016_county_results.prop55_no, california_2016_county_results.prop56_yes, california_2016_county_results.prop56_no, california_2016_county_results.prop57_yes, california_2016_county_results.prop57_no, california_2016_county_results.prop58_yes, california_2016_county_results.prop58_no, california_2016_county_results.prop59_yes, california_2016_county_results.prop59_no, california_2016_county_results.prop60_yes, california_2016_county_results.prop60_no, california_2016_county_results.prop61_yes, california_2016_county_results.prop61_no, california_2016_county_results.prop62_yes, california_2016_county_results.prop62_no, california_2016_county_results.prop63_yes, california_2016_county_results.prop63_no, california_2016_county_results.prop64_yes, california_2016_county_results.prop64_no, california_2016_county_results.prop65_yes, california_2016_county_results.prop65_no, california_2016_county_results.prop66_yes, california_2016_county_results.prop66_no, california_2016_county_results.prop67_yes, california_2016_county_results.prop67_no FROM california_counties, california_2016_county_results WHERE california_counties.countyfp10 = california_2016_county_results.countyfp10 AND california_counties.countyfp10 = '"+selVal+"'";$.getJSON('http://web.archive.org/web/20161112004120/http://latimes.cartodb.com/api/v2/sql/?q='+county_sql,function(countyData){$.each(countyData.rows,function(key,val){var countyPoly=$.parseJSON(val.geometry);$(".selected_object").parent().remove();var shape=L.geoJson(countyPoly,{style:precinctSelected}).addTo(map);var allowableZoom=(map.getZoom()>12)?map.getZoom():13;map.fitBounds(shape.getBounds(),{maxZoom:allowableZoom});});showResults(countyData.rows[0])});});layer.getSubLayer(1).on('featureOver',function(e,latlng,pos,data){if(map.getZoom()>7){var voters=0;var currentRace=$('#mainselect').children(':selected').attr('id').split('-')[0];for(race in data){if(race.substring(0,currentRace.length)===currentRace){voters+=+data[race];}}
if(voters!==0){var highlightPoly=JSON.parse(data.geometry);$(".hover_object").parent().remove();L.geoJson(highlightPoly,{style:precinctHover}).addTo(map);}}});layer.getSubLayer(1).on('featureOut',function(){$(".hover_object").parent().remove();});layer.getSubLayer(1).on('featureClick',function(e,latlng,pos,data){if(mapMarkers.locator){map.removeLayer(mapMarkers.locator);}
if(map.getZoom()>7){var voters=0;var currentRace=$('#mainselect').children(':selected').attr('id').split('-')[0];for(race in data){if(race.substring(0,currentRace.length)===currentRace){voters+=+data[race];}}
if(voters!==0){showResults(data);var highlightPoly=JSON.parse(data.geometry);$(".selected_object").parent().remove();var precinctGeo=L.geoJson(highlightPoly,{style:precinctSelected}).addTo(map);var allowableZoom=(map.getZoom()>12)?map.getZoom():13;map.fitBounds(precinctGeo.getBounds(),{maxZoom:allowableZoom});}}});layer.getSubLayer(0).setInteraction(true);layer.getSubLayer(0).on('featureOver',function(e,latlng,pos,data){});layer.getSubLayer(0).on('featureOut',function(){$(".hover_object").parent().remove();});layer.getSubLayer(0).on('featureClick',function(e,latlng,pos,data){if(dataCounties.indexOf(data.countyfp10.toString())===-1||map.getZoom()<=7){if(mapMarkers.locator){map.removeLayer(mapMarkers.locator);}
showResults(data);var highlightPoly=JSON.parse(data.geometry);$(".selected_object").parent().remove();var precinctGeo=L.geoJson(highlightPoly,{style:precinctSelected}).addTo(map);var allowableZoom=(map.getZoom()>12)?map.getZoom():13;map.fitBounds(precinctGeo.getBounds(),{maxZoom:allowableZoom});}});if(typeof(getAllUrlParams().race)!=='undefined'&&typeof(getAllUrlParams().candidate)!=='undefined'){$('#mainselect').val(getAllUrlParams().race+'-'+getAllUrlParams().candidate);$('#mainselect').change();var sql_statement="SELECT ST_ASGEOJSON(all_precinct_shapes_5.the_geom) AS geometry, all_precinct_shapes_5.pct16, all_precinct_results_5.pres_clinton, all_precinct_results_5.pres_trump, all_precinct_results_5.pres_johnson, all_precinct_results_5.pres_stein, all_precinct_results_5.pres_lariva, all_precinct_results_5.pres_other, all_precinct_results_5.ussenate_harris, all_precinct_results_5.ussenate_sanchez, all_precinct_results_5.prop51_yes, all_precinct_results_5.prop51_no, all_precinct_results_5.prop52_yes, all_precinct_results_5.prop52_no, all_precinct_results_5.prop53_yes, all_precinct_results_5.prop53_no, all_precinct_results_5.prop54_yes, all_precinct_results_5.prop54_no, all_precinct_results_5.prop55_yes, all_precinct_results_5.prop55_no, all_precinct_results_5.prop56_yes, all_precinct_results_5.prop56_no, all_precinct_results_5.prop57_yes, all_precinct_results_5.prop57_no, all_precinct_results_5.prop58_yes, all_precinct_results_5.prop58_no, all_precinct_results_5.prop59_yes, all_precinct_results_5.prop59_no, all_precinct_results_5.prop60_yes, all_precinct_results_5.prop60_no, all_precinct_results_5.prop61_yes, all_precinct_results_5.prop61_no, all_precinct_results_5.prop62_yes, all_precinct_results_5.prop62_no, all_precinct_results_5.prop63_yes, all_precinct_results_5.prop63_no, all_precinct_results_5.prop64_yes, all_precinct_results_5.prop64_no, all_precinct_results_5.prop65_yes, all_precinct_results_5.prop65_no, all_precinct_results_5.prop66_yes, all_precinct_results_5.prop66_no, all_precinct_results_5.prop67_yes, all_precinct_results_5.prop67_no FROM all_precinct_shapes_5, all_precinct_results_5 WHERE all_precinct_shapes_5.pct16 = all_precinct_results_5.pct16 AND all_precinct_results_5.pct16 = '"+getAllUrlParams().precinct+"'";$.getJSON('http://web.archive.org/web/20161112004120/http://latimes.cartodb.com/api/v2/sql/?q='+sql_statement,function(data){if(data.rows.length!==0){showResults(data.rows[0])
var highlightPoly=$.parseJSON(data.rows[0].geometry);$(".selected_object").parent().remove();var precinctGeo=L.geoJson(highlightPoly,{style:precinctSelected}).addTo(map);var allowableZoom=(map.getZoom()>12)?map.getZoom():13;map.fitBounds(precinctGeo.getBounds(),{maxZoom:allowableZoom});}});}else if(typeof(getAllUrlParams().county)!=='undefined'){var county_sql="SELECT ST_ASGEOJSON(california_counties.the_geom) AS geometry, california_counties.countyfp10, california_counties.countyname, california_2016_county_results.pres_clinton, california_2016_county_results.pres_johnson, california_2016_county_results.pres_lariva, california_2016_county_results.pres_stein, california_2016_county_results.pres_trump, california_2016_county_results.pres_other, california_2016_county_results.ussenate_harris, california_2016_county_results.ussenate_sanchez, california_2016_county_results.prop51_yes, california_2016_county_results.prop51_no, california_2016_county_results.prop52_yes, california_2016_county_results.prop52_no, california_2016_county_results.prop53_yes, california_2016_county_results.prop53_no, california_2016_county_results.prop54_yes, california_2016_county_results.prop54_no, california_2016_county_results.prop55_yes, california_2016_county_results.prop55_no, california_2016_county_results.prop56_yes, california_2016_county_results.prop56_no, california_2016_county_results.prop57_yes, california_2016_county_results.prop57_no, california_2016_county_results.prop58_yes, california_2016_county_results.prop58_no, california_2016_county_results.prop59_yes, california_2016_county_results.prop59_no, california_2016_county_results.prop60_yes, california_2016_county_results.prop60_no, california_2016_county_results.prop61_yes, california_2016_county_results.prop61_no, california_2016_county_results.prop62_yes, california_2016_county_results.prop62_no, california_2016_county_results.prop63_yes, california_2016_county_results.prop63_no, california_2016_county_results.prop64_yes, california_2016_county_results.prop64_no, california_2016_county_results.prop65_yes, california_2016_county_results.prop65_no, california_2016_county_results.prop66_yes, california_2016_county_results.prop66_no, california_2016_county_results.prop67_yes, california_2016_county_results.prop67_no FROM california_counties, california_2016_county_results WHERE california_counties.countyfp10 = california_2016_county_results.countyfp10 AND california_counties.countyfp10 = '"+getAllUrlParams().county+"'";$.getJSON('http://web.archive.org/web/20161112004120/http://latimes.cartodb.com/api/v2/sql/?q='+county_sql,function(countyData){$.each(countyData.rows,function(key,val){var countyPoly=$.parseJSON(val.geometry);$(".selected_object").parent().remove();var shape=L.geoJson(countyPoly,{style:precinctSelected}).addTo(map);var allowableZoom=(map.getZoom()>12)?map.getZoom():13;map.fitBounds(shape.getBounds(),{maxZoom:allowableZoom});});showResults(countyData.rows[0])});}});var mapMarkers={},search_form=$('#addy_search'),search_dropdown=$('#addy_search-dropdown'),geocoder=new BingGeocoder.BingGeocoder("AqEQ_HqipMZe_KnMeHEJ_CEtkNG9Y34_aXaGeIya4fBtc4hTIA9KYzMfFaK5nbK5"),returnedResult;var prepSearchString=function(query){var pattr=/\sca|\scalifornia/gi,match=query.match(pattr);if(!match){return query+' CA';}else{return query;}};var filterResults=function(results){results.resourceSets[0].resources=_.filter(results.resourceSets[0].resources,function(result){return result.address.countryRegion==="United States"&&result.address.adminDistrict==="CA";});return results;};var renderPoint=function(e){e.stopPropagation();var $this=$(this),index=$this.index();$("#addy_search-input").val($this.text());search_dropdown.addClass("hidden");if(returnedResult.resourceSets[0].resources[index]&&typeof(returnedResult.resourceSets[0].resources[index])!=="undefined"){var coords=returnedResult.resourceSets[0].resources[index].point.coordinates;var locatorIcon=L.divIcon({className:'LATLocation locator_icon',iconSize:[22,22],iconAnchor:[11,22]});var locator=L.marker(new L.LatLng(coords[0],coords[1]),{icon:locatorIcon});if(mapMarkers.locator){map.removeLayer(mapMarkers.locator);}
map.addLayer(locator);mapMarkers.locator=locator;$(".selected_object").parent().remove();var sql_statement="SELECT ST_ASGEOJSON(all_precinct_shapes_5.the_geom) AS geometry, all_precinct_shapes_5.pct16, all_precinct_results_5.pres_clinton, all_precinct_results_5.pres_trump, all_precinct_results_5.pres_johnson, all_precinct_results_5.pres_stein, all_precinct_results_5.pres_lariva, all_precinct_results_5.pres_other, all_precinct_results_5.ussenate_harris, all_precinct_results_5.ussenate_sanchez, all_precinct_results_5.prop51_yes, all_precinct_results_5.prop51_no, all_precinct_results_5.prop52_yes, all_precinct_results_5.prop52_no, all_precinct_results_5.prop53_yes, all_precinct_results_5.prop53_no, all_precinct_results_5.prop54_yes, all_precinct_results_5.prop54_no, all_precinct_results_5.prop55_yes, all_precinct_results_5.prop55_no, all_precinct_results_5.prop56_yes, all_precinct_results_5.prop56_no, all_precinct_results_5.prop57_yes, all_precinct_results_5.prop57_no, all_precinct_results_5.prop58_yes, all_precinct_results_5.prop58_no, all_precinct_results_5.prop59_yes, all_precinct_results_5.prop59_no, all_precinct_results_5.prop60_yes, all_precinct_results_5.prop60_no, all_precinct_results_5.prop61_yes, all_precinct_results_5.prop61_no, all_precinct_results_5.prop62_yes, all_precinct_results_5.prop62_no, all_precinct_results_5.prop63_yes, all_precinct_results_5.prop63_no, all_precinct_results_5.prop64_yes, all_precinct_results_5.prop64_no, all_precinct_results_5.prop65_yes, all_precinct_results_5.prop65_no, all_precinct_results_5.prop66_yes, all_precinct_results_5.prop66_no, all_precinct_results_5.prop67_yes, all_precinct_results_5.prop67_no FROM all_precinct_shapes_5, all_precinct_results_5 WHERE all_precinct_shapes_5.pct16 = all_precinct_results_5.pct16  AND ST_Contains(all_precinct_shapes_5.the_geom, ST_GeomFromText('POINT("+coords[1]+" "+coords[0]+")', 4326))";$.getJSON('http://web.archive.org/web/20161112004120/http://latimes.cartodb.com/api/v2/sql/?q='+sql_statement,function(data){$.each(data.rows,function(key,val){var precinctPoly=$.parseJSON(val.geometry);var sql_statement="SELECT ST_ASGEOJSON(all_precinct_shapes_5.the_geom) AS geometry, all_precinct_shapes_5.pct16, all_precinct_results_5.pres_clinton, all_precinct_results_5.pres_trump, all_precinct_results_5.pres_johnson, all_precinct_results_5.pres_stein, all_precinct_results_5.pres_lariva, all_precinct_results_5.pres_other, all_precinct_results_5.ussenate_harris, all_precinct_results_5.ussenate_sanchez, all_precinct_results_5.prop51_yes, all_precinct_results_5.prop51_no, all_precinct_results_5.prop52_yes, all_precinct_results_5.prop52_no, all_precinct_results_5.prop53_yes, all_precinct_results_5.prop53_no, all_precinct_results_5.prop54_yes, all_precinct_results_5.prop54_no, all_precinct_results_5.prop55_yes, all_precinct_results_5.prop55_no, all_precinct_results_5.prop56_yes, all_precinct_results_5.prop56_no, all_precinct_results_5.prop57_yes, all_precinct_results_5.prop57_no, all_precinct_results_5.prop58_yes, all_precinct_results_5.prop58_no, all_precinct_results_5.prop59_yes, all_precinct_results_5.prop59_no, all_precinct_results_5.prop60_yes, all_precinct_results_5.prop60_no, all_precinct_results_5.prop61_yes, all_precinct_results_5.prop61_no, all_precinct_results_5.prop62_yes, all_precinct_results_5.prop62_no, all_precinct_results_5.prop63_yes, all_precinct_results_5.prop63_no, all_precinct_results_5.prop64_yes, all_precinct_results_5.prop64_no, all_precinct_results_5.prop65_yes, all_precinct_results_5.prop65_no, all_precinct_results_5.prop66_yes, all_precinct_results_5.prop66_no, all_precinct_results_5.prop67_yes, all_precinct_results_5.prop67_no FROM all_precinct_shapes_5, all_precinct_results_5 WHERE all_precinct_shapes_5.pct16 = all_precinct_results_5.pct16  AND ST_Contains(all_precinct_shapes_5.the_geom, ST_GeomFromText('POINT("+coords[1]+" "+coords[0]+")', 4326))";L.geoJson(precinctPoly,{style:precinctSelected}).addTo(map);});if(data.rows.length!==0){map.setView(new L.LatLng(coords[0],coords[1]),14);showResults(data.rows[0])}else{var county_sql="SELECT ST_ASGEOJSON(california_counties.the_geom) AS geometry, california_counties.countyfp10, california_counties.countyname, california_2016_county_results.pres_clinton, california_2016_county_results.pres_johnson, california_2016_county_results.pres_lariva, california_2016_county_results.pres_stein, california_2016_county_results.pres_trump, california_2016_county_results.pres_other, california_2016_county_results.ussenate_harris, california_2016_county_results.ussenate_sanchez, california_2016_county_results.prop51_yes, california_2016_county_results.prop51_no, california_2016_county_results.prop52_yes, california_2016_county_results.prop52_no, california_2016_county_results.prop53_yes, california_2016_county_results.prop53_no, california_2016_county_results.prop54_yes, california_2016_county_results.prop54_no, california_2016_county_results.prop55_yes, california_2016_county_results.prop55_no, california_2016_county_results.prop56_yes, california_2016_county_results.prop56_no, california_2016_county_results.prop57_yes, california_2016_county_results.prop57_no, california_2016_county_results.prop58_yes, california_2016_county_results.prop58_no, california_2016_county_results.prop59_yes, california_2016_county_results.prop59_no, california_2016_county_results.prop60_yes, california_2016_county_results.prop60_no, california_2016_county_results.prop61_yes, california_2016_county_results.prop61_no, california_2016_county_results.prop62_yes, california_2016_county_results.prop62_no, california_2016_county_results.prop63_yes, california_2016_county_results.prop63_no, california_2016_county_results.prop64_yes, california_2016_county_results.prop64_no, california_2016_county_results.prop65_yes, california_2016_county_results.prop65_no, california_2016_county_results.prop66_yes, california_2016_county_results.prop66_no, california_2016_county_results.prop67_yes, california_2016_county_results.prop67_no FROM california_counties, california_2016_county_results WHERE california_counties.countyfp10 = california_2016_county_results.countyfp10 AND ST_Contains(california_counties.the_geom, ST_GeomFromText('POINT("+coords[1]+" "+coords[0]+")', 4326))";$.getJSON('http://web.archive.org/web/20161112004120/http://latimes.cartodb.com/api/v2/sql/?q='+county_sql,function(countyData){$.each(countyData.rows,function(key,val){var countyPoly=$.parseJSON(val.geometry);$(".selected_object").parent().remove();var shape=L.geoJson(countyPoly,{style:precinctSelected}).addTo(map);var allowableZoom=(map.getZoom()>12)?map.getZoom():13;map.fitBounds(shape.getBounds(),{maxZoom:allowableZoom});});showResults(countyData.rows[0])});}});}};var buildAutofillList=function(geodata){var results=geodata.resourceSets[0].resources;if(results.length>0){search_dropdown.html('');var searchDropdownList=$("<ul>");for(var i=0;i<results.length;i+=1){searchDropdownList.append("<li>"+results[i].name+"</li>");}
search_dropdown.append(searchDropdownList);search_dropdown.removeClass("hidden");}}
var getGeocodeData=function(e){if($("#addy_search-input").val().trim()!==''){var toGeocode=prepSearchString($("#addy_search-input").val());geocoder.geocode(toGeocode,function(err,geodata){returnedResult=filterResults(geodata);buildAutofillList(returnedResult);},{maxResults:10});}};var hideSearchDropDown=function(){search_dropdown.html('');$('#addy_search-input').val('');search_dropdown.addClass("hidden");}
search_form.on("keydown",function(e){if(e.keyCode===27){hideSearchDropDown();}else if(e.keyCode===13){e.stopPropagation();e.preventDefault();return false;}});search_form.on("keydown",_.debounce(getGeocodeData,200));search_form.on('click','li',renderPoint);$("body").on('click',function(e){if($("#addy_search-input").val().trim()!==''){hideSearchDropDown();}});showResults=function(data){var races={"pres":{"total":0,"candidates":{},"winner":""},"ussenate":{"total":0,"candidates":{},"winner":""},"prop51":{"total":0,"candidates":{},"winner":""},"prop52":{"total":0,"candidates":{},"winner":""},"prop53":{"total":0,"candidates":{},"winner":""},"prop54":{"total":0,"candidates":{},"winner":""},"prop55":{"total":0,"candidates":{},"winner":""},"prop56":{"total":0,"candidates":{},"winner":""},"prop57":{"total":0,"candidates":{},"winner":""},"prop58":{"total":0,"candidates":{},"winner":""},"prop59":{"total":0,"candidates":{},"winner":""},"prop60":{"total":0,"candidates":{},"winner":""},"prop61":{"total":0,"candidates":{},"winner":""},"prop62":{"total":0,"candidates":{},"winner":""},"prop63":{"total":0,"candidates":{},"winner":""},"prop64":{"total":0,"candidates":{},"winner":""},"prop65":{"total":0,"candidates":{},"winner":""},"prop66":{"total":0,"candidates":{},"winner":""},"prop67":{"total":0,"candidates":{},"winner":""}}
for(result in data){if(result==='pct16'){}else if(result!=='geometry'&&result!=='countyfp10'&&result!=='countyname'){var raceName=result.split('_')[0];var candidateName=result.split('_')[1];races[raceName].candidates[candidateName]=data[result];races[raceName].total+=data[result];}}
$("#race-container").css('display','flex');for(race in races){var card=$('#'+race+'-results');var htmlString='';var leader={name:"",count:0}
for(candidate in races[race].candidates){if(races[race].candidates[candidate]==leader.count){leader.name="tie"}else if(races[race].candidates[candidate]>leader.count){leader={name:candidate,count:races[race].candidates[candidate]}}
var rPct=(100*races[race].candidates[candidate]/(races[race].total===0?1:races[race].total))==100?"100":(100*races[race].candidates[candidate]/(races[race].total===0?1:races[race].total)).toFixed(1);htmlString+='<div class="candidate-result" id="'
+candidate
+'-result" data-name="'
+(candidate==='lariva'?'La Riva':candidate)
+'" data-votes="'
+races[race].candidates[candidate]
+'" data-percent="'
+rPct
+'">'
+'</div>';}
races[race].winner=leader.name;card.html(htmlString);if(race.substring(0,4)!=='prop'){card.find('.candidate-result').sort(function(a,b){return+b.getAttribute('data-votes')-+a.getAttribute('data-votes');}).appendTo(card);var currentCandidates=card.find('.candidate-result').sort(function(a,b){return+b.getAttribute('data-votes')-+a.getAttribute('data-votes');});var otherTotal=0;if(currentCandidates.length>3){for(var x=2;x<currentCandidates.length;x++){$(currentCandidates[x]).addClass('other-collapsed');otherTotal+=+currentCandidates[x].getAttribute('data-votes');}
otherTotalHTML="<div class='candidate-result other-total' id='other-total-result' data-name='Other' data-votes='"+otherTotal+"' data-percent="+(100*otherTotal/(races[race].total===0?1:races[race].total)).toFixed(1)+"></div>";card.append(otherTotalHTML);card.append("<div class='expand-card'>more <i class='LATDDArrowDown' style='font-size:14px'></i></div>");$(".expand-card").on('click',function(){var others=$(this).siblings('.other-collapsed');if(others.length!=0){others.addClass('other-expanded').removeClass('other-collapsed');$(this).siblings('#other-total-result').hide();$(this).html("less <i class='LATDDArrowUp' style='font-size:14px'></i>")}else{$(this).siblings('.other-expanded').removeClass('other-expanded').addClass('other-collapsed');$(this).siblings('#other-total-result').show();$(this).html("more <i class='LATDDArrowDown' style='font-size:14px'></i>")}});}
card.find('.candidate-result').first().addClass('leader');}
else{card.find('.candidate-result').sort(function(a,b){return(a.getAttribute('data-name')>b.getAttribute('data-name'))?-1:(a.getAttribute('data-name')<b.getAttribute('data-name'))?1:0;}).appendTo(card);var propOrder=card.find('.candidate-result').sort(function(a,b){return+b.getAttribute('data-votes')-+a.getAttribute('data-votes');});$(propOrder[0]).addClass('leader')}}
currentRaceData=races;if(typeof(data['pct16'])!=='undefined'){currentPrecinct=data['pct16'];isCounty=false;}else{currentPrecinct=data['countyname']
isCounty=true;}
doRobotext();$('.candidate-result').width(function(){return($(this).data('percent'))+"%";});}
$('#race-container').append('<div class="otherlabel"><h2>How this precinct voted for everything else:</h2></div>')
function doRobotext(){var roboText="";var option=$('#mainselect').children(':selected').attr('id').split('-')[1];var race=$('#mainselect').children(':selected').attr('id').split('-')[0];var percent=(100*currentRaceData[race].candidates[option]/(currentRaceData[race].total===0?1:currentRaceData[race].total));var percentLong=currentRaceData[race].candidates[option]/currentRaceData[race].total;if(percent!==100){percent=percent.toPrecision(2);}
var yesNo,only="";if(option===currentRaceData[race].winner){yesNo="Yes";}else{yesNo="No";only="only";}
if(isCounty){$('.precinct-share').hide();}else if(typeof(currentPrecinct)!=='undefined'){if(race.substring(0,4)!=='prop'){if(currentRaceData[race].winner==undefined){$('.precinct-share .sharebuttons').attr('data-title','California: How did your neighborhood vote?');}else if(currentRaceData[race].winner=="tie"){$('.precinct-share .sharebuttons').attr('data-title','My neighborhood was split between Trump and Clinton. How did your neighborhood vote?');}else{$('.precinct-share .sharebuttons').attr('data-title','My neighborhood voted for '+fullNames[currentRaceData[race].winner]+". How did yours vote?");}}else{if(percentLong==0.5){$('.precinct-share .sharebuttons').attr('data-title','My neighborhood was split on Prop. '+race.replace('prop','')+". How did yours vote?");}else{$('.precinct-share .sharebuttons').attr('data-title','My neighborhood voted '+currentRaceData[race].winner+" on Prop. "+race.replace('prop','')+". How did yours vote?");}}
$('.precinct-share .sharebuttons').attr('data-url','http://web.archive.org/web/20161112004120/http://www.latimes.com/projects/la-pol-ca-california-neighborhood-election-results/?race='+race+'&candidate='+option+'&precinct='+currentPrecinct);$('.precinct-share').show();}
if(currentRaceData[race].winner==='tie'){roboText+='<span class="robotext-result">'+(isCounty?(currentPrecinct+' County'):'This precinct')+' was split. </span>Preliminary results show that <span class="robotext-result">'+percent+'%</span> of voters ('+commafy(currentRaceData[race].candidates[option])+') chose to '+$('#mainselect option:selected').text().substring(0,$('#mainselect option:selected').text().length-1);}else{roboText+='Preliminary results show that <span class="robotext-result">'+percent+'% </span> of voters ('+commafy(currentRaceData[race].candidates[option])+') in '+(isCounty?(currentPrecinct+' County'):'this precinct')+' voted to '+$('#mainselect option:selected').text().substring(0,$('#mainselect option:selected').text().length-1);}
if(currentRaceData!=={}){$('.precinct-number').text(currentRaceData[race].candidates[option]);}
var card=$('#'+race+'-results').parent();$('.result-card').removeClass('featured-race');card.addClass('featured-race');$('.featured-race .candidate-result').html(function(){var featName=$(this).attr('data-name');var featpercent=parseFloat($(this).attr('data-percent'));var featVotes=$(this).attr('data-votes');var roundedPercent;if(featpercent==100){roundedPercent="100";}else if(featpercent<10){roundedPercent=featpercent.toFixed(1);}else{roundedPercent=Math.round(featpercent);}
return'<p class="featured-name">'+featName+'</p>\
                    <p class="featured-percent">'+roundedPercent+'<span class="percent">%</span></p>\
                    <p class="featured-votes">Total votes: '+commafy(featVotes)+'</p>';});$('.robotext').html(roboText)
$('.robotext').show();}};</script>
<script type="text/javascript">
$(function () {
    app.boot();
});
</script>


    
<script type="text/javascript">
var _sf_async_config={};
    /** CONFIGURATION START **/
    _sf_async_config.uid = 3908;
    _sf_async_config.domain = 'latimes.com';
    _sf_async_config.useCanonical = true;
    _sf_async_config.sections = 'bigbuilder';
    _sf_async_config.authors = 'Jon Schleuss, Joe Fox and Priya Krishnakumar';
    _sf_async_config.title = "California neighborhood election results: Did your neighborhood vote to elect Hillary Clinton or Donald Trump?";
    /** CONFIGURATION END **/
    (function(){
      function loadChartbeat() {
        window._sf_endpt=(new Date()).getTime();
        var e = document.createElement('script');
        e.setAttribute('language', 'javascript');
        e.setAttribute('type', 'text/javascript');
        e.setAttribute('src', '//web.archive.org/web/20161112004120/http://static.chartbeat.com/js/chartbeat.js');
        document.body.appendChild(e);
      }
      var oldonload = window.onload;
      window.onload = (typeof window.onload != 'function') ?
         loadChartbeat : function() { oldonload(); loadChartbeat(); };
    })();
</script>


</body>
<!--Good with data?-->
<!--Tired of grinding on the same old apps?-->
<!--Want to use your skills in defense of truth, justice and the American way?-->
<!--Email datadesk@latimes.com and let us know you're out there.-->
</html>
